"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[904],{88475:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(26829),s={}},78042:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(18382),s={}},87233:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(38278),s={}},44051:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(69292),s={}},44859:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(33349),s={}},55315:function(p,n,e){var o;e.r(n),e.d(n,{demos:function(){return O}});var m=e(90819),s=e.n(m),F=e(89933),h=e.n(F),r=e(44194),A=e(41322),f=e(5009),g=e(45441),E=e(13501),v=e(49404),D=e(48869),_=e(27506),P=e(22547),M=e(35417),O={"docs-demo-custom-service-demo-basicservice":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,11787))})),asset:{type:"BLOCK",id:"docs-demo-custom-service-demo-basicservice",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(39365).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var U=h()(s()().mark(function y(){var u,i=arguments;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,e.e(82).then(e.bind(e,79082));case 2:return d.abrupt("return",(u=d.sent).default.apply(u,i));case 3:case"end":return d.stop()}},y)}));function S(){return U.apply(this,arguments)}return S}()}},"docs-demo-custom-service-demo-paramsservice":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,45553))})),asset:{type:"BLOCK",id:"docs-demo-custom-service-demo-paramsservice",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(97706).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var U=h()(s()().mark(function y(){var u,i=arguments;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,e.e(82).then(e.bind(e,79082));case 2:return d.abrupt("return",(u=d.sent).default.apply(u,i));case 3:case"end":return d.stop()}},y)}));function S(){return U.apply(this,arguments)}return S}()}},"docs-demo-custom-service-demo-customservice":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,86257))})),asset:{type:"BLOCK",id:"docs-demo-custom-service-demo-customservice",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(17106).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var U=h()(s()().mark(function y(){var u,i=arguments;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,e.e(82).then(e.bind(e,79082));case 2:return d.abrupt("return",(u=d.sent).default.apply(u,i));case 3:case"end":return d.stop()}},y)}));function S(){return U.apply(this,arguments)}return S}()}}}},14118:function(p,n,e){var o;e.r(n),e.d(n,{demos:function(){return O}});var m=e(90819),s=e.n(m),F=e(89933),h=e.n(F),r=e(44194),A=e(73628),f=e(5009),g=e(45441),E=e(13501),v=e(49404),D=e(48869),_=e(27506),P=e(22547),M=e(35417),O={"docs-demo-generality-demo-enumdemo":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,13468))})),asset:{type:"BLOCK",id:"docs-demo-generality-demo-enumdemo",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(27084).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var U=h()(s()().mark(function y(){var u,i=arguments;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,e.e(82).then(e.bind(e,79082));case 2:return d.abrupt("return",(u=d.sent).default.apply(u,i));case 3:case"end":return d.stop()}},y)}));function S(){return U.apply(this,arguments)}return S}()}},"docs-demo-generality-demo-arraytable":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,11143))})),asset:{type:"BLOCK",id:"docs-demo-generality-demo-arraytable",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(188).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var U=h()(s()().mark(function y(){var u,i=arguments;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,e.e(82).then(e.bind(e,79082));case 2:return d.abrupt("return",(u=d.sent).default.apply(u,i));case 3:case"end":return d.stop()}},y)}));function S(){return U.apply(this,arguments)}return S}()}},"docs-demo-generality-demo-arrayitems":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,2757))})),asset:{type:"BLOCK",id:"docs-demo-generality-demo-arrayitems",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(52223).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var U=h()(s()().mark(function y(){var u,i=arguments;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,e.e(82).then(e.bind(e,79082));case 2:return d.abrupt("return",(u=d.sent).default.apply(u,i));case 3:case"end":return d.stop()}},y)}));function S(){return U.apply(this,arguments)}return S}()}}}},20732:function(p,n,e){var o;e.r(n),e.d(n,{demos:function(){return S}});var m=e(90819),s=e.n(m),F=e(89933),h=e.n(F),r=e(44194),A=e(73498),f=e(5009),g=e(45441),E=e(13501),v=e(49404),D=e(48869),_=e(27506),P=e(22547),M=e(35417),O=e(51899),U=e.n(O),S={"docs-demo-demo-format":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,82295))})),asset:{type:"BLOCK",id:"docs-demo-demo-format",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(7339).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-fieldnames":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,32316))})),asset:{type:"BLOCK",id:"docs-demo-demo-fieldnames",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(68469).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-ready":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,47698))})),asset:{type:"BLOCK",id:"docs-demo-demo-ready",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(90048).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-mountload":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,46706))})),asset:{type:"BLOCK",id:"docs-demo-demo-mountload",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(85057).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx",description:"\u7981\u7528 mountLoad \u540E\uFF0C\u53EA\u6709\u5728\u4E0B\u62C9\u9879\u6253\u5F00\u65F6(onDropdownVisibleChange)\u624D\u4F1A\u53D1\u8D77\u8BF7\u6C42",title:"\u57FA\u7840\u4E0B\u62C9\u8BF7\u6C42"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-mountloaddelay":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,98036))})),asset:{type:"BLOCK",id:"docs-demo-demo-mountloaddelay",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(99152).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.23.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx",description:"\u8FD9\u4E2A\u4F8B\u5B50\u589E\u52A0\u4E86\u5EF6\u8FDF\u52A0\u8F7D\uFF0C\u65B9\u4FBF\u770B\u5230\u6548\u679C",title:"\u5EF6\u8FDF\u8BF7\u6C42\u4E0B\u62C9"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),antd:_,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-radio":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,10404))})),asset:{type:"BLOCK",id:"docs-demo-demo-radio",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(49351).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-reloadrequest":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,64781))})),asset:{type:"BLOCK",id:"docs-demo-demo-reloadrequest",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(11100).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-updaterequest":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,92662))})),asset:{type:"BLOCK",id:"docs-demo-demo-updaterequest",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(7592).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-updaterequestdebounce":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,61101))})),asset:{type:"BLOCK",id:"docs-demo-demo-updaterequestdebounce",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(42461).Z},react:{type:"NPM",value:"18.3.1"},"lodash.debounce":{type:"NPM",value:"4.0.8"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx",description:"\u901A\u8FC7\u5728 scope \u4E2D\u6CE8\u5165 debounce \u51FD\u6570\uFF0C\u5728 onSearch \u4E8B\u4EF6\u4E2D\u4F7F\u7528 debounce \u51FD\u6570\u6765\u5B9E\u73B0\u9632\u6296\u66F4\u65B0\u8BF7\u6C42\u3002"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"lodash.debounce":O,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}},"docs-demo-demo-disabledreactive":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,38739))})),asset:{type:"BLOCK",id:"docs-demo-demo-disabledreactive",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(37061).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var y=h()(s()().mark(function i(){var I,d=arguments;return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.e(82).then(e.bind(e,79082));case 2:return a.abrupt("return",(I=a.sent).default.apply(I,d));case 3:case"end":return a.stop()}},i)}));function u(){return y.apply(this,arguments)}return u}()}}}},53217:function(p,n,e){var o;e.r(n),e.d(n,{demos:function(){return U}});var m=e(90819),s=e.n(m),F=e(89933),h=e.n(F),r=e(44194),A=e(75146),f=e(5009),g=e(45441),E=e(13501),v=e(49404),D=e(48869),_=e(27506),P=e(22547),M=e(35417),O=e(92554),U={"docs-demo-on-error-demo-responseerror":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,94151))})),asset:{type:"BLOCK",id:"docs-demo-on-error-demo-responseerror",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(22069).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var S=h()(s()().mark(function u(){var i,I=arguments;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(82).then(e.bind(e,79082));case 2:return t.abrupt("return",(i=t.sent).default.apply(i,I));case 3:case"end":return t.stop()}},u)}));function y(){return S.apply(this,arguments)}return y}()}},"docs-demo-on-error-demo-formaterror":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,88166))})),asset:{type:"BLOCK",id:"docs-demo-on-error-demo-formaterror",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(76365).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var S=h()(s()().mark(function u(){var i,I=arguments;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(82).then(e.bind(e,79082));case 2:return t.abrupt("return",(i=t.sent).default.apply(i,I));case 3:case"end":return t.stop()}},u)}));function y(){return S.apply(this,arguments)}return y}()}},"docs-demo-on-error-demo-reseterror":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,89022))})),asset:{type:"BLOCK",id:"docs-demo-on-error-demo-reseterror",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(30366).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var S=h()(s()().mark(function u(){var i,I=arguments;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(82).then(e.bind(e,79082));case 2:return t.abrupt("return",(i=t.sent).default.apply(i,I));case 3:case"end":return t.stop()}},u)}));function y(){return S.apply(this,arguments)}return y}()}},"docs-demo-on-error-demo-catchcompileerror":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,3358))})),asset:{type:"BLOCK",id:"docs-demo-on-error-demo-catchcompileerror",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(3091).Z},react:{type:"NPM",value:"18.3.1"},"@formily/react":{type:"NPM",value:"2.3.2"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"./formily-catch-error.ts":{type:"FILE",value:e(4053).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./formily-catch-error.ts":O,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"@formily/react":D,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/on-error/formily-catch-error.ts":O,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var S=h()(s()().mark(function u(){var i,I=arguments;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(82).then(e.bind(e,79082));case 2:return t.abrupt("return",(i=t.sent).default.apply(i,I));case 3:case"end":return t.stop()}},u)}));function y(){return S.apply(this,arguments)}return y}()}}}},15787:function(p,n,e){var o;e.r(n),e.d(n,{demos:function(){return U}});var m=e(90819),s=e.n(m),F=e(89933),h=e.n(F),r=e(44194),A=e(67610),f=e(5009),g=e(45441),E=e(13501),v=e(49404),D=e(48869),_=e(27506),P=e(22547),M=e(35417),O=e(12706),U={"docs-demo-region-demo-region":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,12975))})),asset:{type:"BLOCK",id:"docs-demo-region-demo-region",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(70957).Z},react:{type:"NPM",value:"18.3.1"},"../common/SchemaForm.tsx":{type:"FILE",value:e(29377).Z},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"./SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaForm.tsx":f,"./SchemaField.tsx":v,react:o||(o=e.t(r,2)),"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaForm.tsx":f,"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var S=h()(s()().mark(function u(){var i,I=arguments;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(82).then(e.bind(e,79082));case 2:return t.abrupt("return",(i=t.sent).default.apply(i,I));case 3:case"end":return t.stop()}},u)}));function y(){return S.apply(this,arguments)}return y}()}},"docs-demo-region-demo-edit":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,50801))})),asset:{type:"BLOCK",id:"docs-demo-region-demo-edit",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(22798).Z},react:{type:"NPM",value:"18.3.1"},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"../common/SchemaField.tsx":{type:"FILE",value:e(98120).Z},"@formily/react":{type:"NPM",value:"2.3.2"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"},site:{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaField.tsx":v,react:o||(o=e.t(r,2)),"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"@formily/react":D,antd:_,"formily-request":P,"@site/constant/index":M},renderOpts:{compile:function(){var S=h()(s()().mark(function u(){var i,I=arguments;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(82).then(e.bind(e,79082));case 2:return t.abrupt("return",(i=t.sent).default.apply(i,I));case 3:case"end":return t.stop()}},u)}));function y(){return S.apply(this,arguments)}return y}()}},"docs-demo-region-demo-cascader":{component:r.memo(r.lazy(function(){return e.e(433).then(e.bind(e,42226))})),asset:{type:"BLOCK",id:"docs-demo-region-demo-cascader",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(75240).Z},react:{type:"NPM",value:"18.3.1"},"@formily/core":{type:"NPM",value:"2.3.2"},"@formily/antd-v5":{type:"NPM",value:"1.2.3"},"../common/SchemaField.tsx":{type:"FILE",value:e(98120).Z},"./cascader-data-manager.ts":{type:"FILE",value:e(10951).Z},"@formily/react":{type:"NPM",value:"2.3.2"},site:{type:"NPM",value:"1.0.0-beta.3"},antd:{type:"NPM",value:"5.23.1"},"formily-request":{type:"NPM",value:"1.0.0-beta.3"}},entry:"index.tsx"},context:{"../common/SchemaField.tsx":v,"./cascader-data-manager.ts":O,react:o||(o=e.t(r,2)),"@formily/core":g,"@formily/antd-v5":E,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/common/SchemaField.tsx":v,"/Users/longchan/Desktop/sair/formily-request/packages/site/docs/demo/components/region/cascader-data-manager.ts":O,"@formily/react":D,"@site/constant/index":M,antd:_,"formily-request":P},renderOpts:{compile:function(){var S=h()(s()().mark(function u(){var i,I=arguments;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(82).then(e.bind(e,79082));case 2:return t.abrupt("return",(i=t.sent).default.apply(i,I));case 3:case"end":return t.stop()}},u)}));function y(){return S.apply(this,arguments)}return y}()}}}},2484:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(52935),s={}},75356:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(18716),s={}},99326:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(64721),s={}},73794:function(p,n,e){e.r(n),e.d(n,{demos:function(){return A}});var o=e(90819),m=e.n(o),s=e(89933),F=e.n(s),h=e(44194),r=e(43668),A={"docs-guide-introduction-demo-0":{component:h.memo(h.lazy(F()(m()().mark(function f(){var g,E,v,D,_,P;return m()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,Promise.resolve().then(e.t.bind(e,44194,19));case 2:return g=O.sent,E=g.default,O.next=6,Promise.resolve().then(e.bind(e,27506));case 6:return v=O.sent,D=v.Image,O.next=10,e.e(281).then(e.t.bind(e,71281,17));case 10:return _=O.sent,P=_.default,O.abrupt("return",{default:function(){return E.createElement("div",{style:{margin:"10px 0"}},E.createElement(D,{src:P}))}});case 13:case"end":return O.stop()}},f)})))),asset:null,context:void 0,renderOpts:void 0}}},95042:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(55482),s={}},92300:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(78686),s={}},93667:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(78961),s={}},49258:function(p,n,e){e.r(n),e.d(n,{demos:function(){return s}});var o=e(44194),m=e(93031),s={}},35417:function(p,n,e){e.r(n),e.d(n,{mockApiBaseURL:function(){return o}});var o="https://chan-mock-api.netlify.app"},49404:function(p,n,e){e.r(n),e.d(n,{SchemaField:function(){return E}});var o=e(90819),m=e.n(o),s=e(89933),F=e.n(s),h=e(48869),r=e(13501),A=e(97415),f=e(22547),g=e(35417);f.default.use(h.Schema).register({baseURL:g.mockApiBaseURL,onLog:function(){var v=F()(m()().mark(function _(P,M,O){return m()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:P==="ERROR"&&(console.group("\u5168\u5C40onLog\u51FD\u6570",M),console.log("error:"),console.dir(O),console.log("error.cause:"),console.dir(O.cause),console.groupEnd());case 1:case"end":return S.stop()}},_)}));function D(_,P,M){return v.apply(this,arguments)}return D}()});var E=(0,h.createSchemaField)({components:{FormItem:r.FormItem,Select:r.Select,Submit:r.Submit,Input:r.Input,Radio:r.Radio,Switch:r.Switch,Checkbox:r.Checkbox,Cascader:r.Cascader,ArrayTable:r.ArrayTable,ArrayItems:r.ArrayItems,Space:r.Space,Editable:r.Editable,Flex:A.Z}})},5009:function(p,n,e){e.r(n),e.d(n,{SchemaForm:function(){return r}});var o=e(44194),m=e(45441),s=e(13501),F=e(49404),h=e(31549),r=function(f){var g=f.schema,E=f.scope,v=(0,o.useMemo)(function(){return(0,m.createForm)()},[]);return(0,h.jsxs)(s.Form,{labelWidth:200,form:v,onAutoSubmit:function(_){return alert(JSON.stringify(_,null,2))},children:[(0,h.jsx)(F.SchemaField,{schema:g,scope:E||{}}),(0,h.jsxs)(s.FormButtonGroup.FormItem,{children:[(0,h.jsx)(s.Submit,{children:"\u63D0\u4EA4"}),(0,h.jsx)(s.Reset,{children:"\u91CD\u7F6E"})]})]})}},92554:function(p,n,e){e.r(n),e.d(n,{compiler:function(){return o}});function o(m){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};try{return new Function("$root","with($root) { return (".concat(m,"); }"))(s)}catch(F){console.group("formily:expr-error"),console.error(F),console.log("expr",m),console.log("scope",s),console.log("address",s.$self.address.entire),console.groupEnd()}}},12706:function(p,n,e){e.r(n);var o=e(86222),m=e.n(o),s=e(90819),F=e.n(s),h=e(73193),r=e.n(h),A=e(89933),f=e.n(A),g=e(78796),E=e.n(g),v=e(4977),D=e.n(v),_=e(10154),P=e.n(_),M=e(35417),O=M.mockApiBaseURL,U=function(u){return Object.keys(u).map(function(i){return i+"="+u[i]}).join("&")},S=function(){function y(){E()(this,y),P()(this,"cache",void 0),this.cache=new Map}return D()(y,[{key:"getCacheKey",value:function(i){return U(i)}},{key:"fetchData",value:function(){var u=f()(F()().mark(function I(d){var t,a,l;return F()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return a=U(d),x.next=3,fetch("".concat(O,"/api/area?").concat(a)).then(function(C){return C.json()});case 3:return l=x.sent,x.abrupt("return",l==null||(t=l.data)===null||t===void 0?void 0:t.map(function(C){return r()(r()({},C),{},{type:d.type,isLeaf:d.type==="districts"})}));case 5:case"end":return x.stop()}},I)}));function i(I){return u.apply(this,arguments)}return i}()},{key:"getData",value:function(){var u=f()(F()().mark(function I(d){var t,a;return F()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=this.getCacheKey(d),!this.cache.has(t)){c.next=3;break}return c.abrupt("return",this.cache.get(t));case 3:return c.next=5,this.fetchData(d);case 5:return a=c.sent,this.cache.set(t,a),c.abrupt("return",a);case 8:case"end":return c.stop()}},I,this)}));function i(I){return u.apply(this,arguments)}return i}()},{key:"updateNodeChildren",value:function(i,I,d){var t=this;return i.map(function(a){return a.id===I?r()(r()({},a),{},{children:d}):a.children?r()(r()({},a),{},{children:t.updateNodeChildren(a.children,I,d)}):a})}},{key:"findNode",value:function(i,I){var d=m()(i),t;try{for(d.s();!(t=d.n()).done;){var a=t.value;if(a.id===I)return a;if(a.children){var l=this.findNode(a.children,I);if(l)return l}}}catch(c){d.e(c)}finally{d.f()}return null}}]),y}();n.default=S},90292:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(26829);const m=[{value:"\u5EFA\u8BAE\u6309\u7167\u4EE5\u4E0B\u5C42\u6B21\u7EC4\u7EC7\u914D\u7F6E\uFF1A",paraId:0,tocIndex:1},{value:"\u7CFB\u7EDF\u7EA7\u914D\u7F6E\uFF1A\u6574\u4E2A\u8868\u5355\u7684\u901A\u7528\u8BF7\u6C42\u914D\u7F6E",paraId:1,tocIndex:1},{value:"\u5B57\u6BB5\u7EA7\u914D\u7F6E\uFF1A\u5177\u4F53\u5B57\u6BB5\u7684\u4E2A\u6027\u5316\u914D\u7F6E",paraId:1,tocIndex:1},{value:`// Schema\u7EA7\u914D\u7F6E\uFF08\u8868\u5355\u901A\u7528\uFF09
fxr.use(Schema).register({
  baseURL: '/api',
  headers: {
    /* \u901A\u7528\u8BF7\u6C42\u5934 */
  },
});

// \u5B57\u6BB5\u7EA7\u914D\u7F6E
const schema = {
  'x-request': {
    params: {
      /* \u5B57\u6BB5\u7279\u5B9A\u53C2\u6570 */
    },
  },
};
`,paraId:2,tocIndex:1},{value:`// 1. \u7B80\u5355\u573A\u666F\uFF1A\u4F7F\u7528\u5185\u7F6Efetch
{
  "x-request": {
    url: "/api/simple-data",
    method: "GET"
  }
}

// 2. \u9700\u8981\u66F4\u591A\u63A7\u5236\uFF1A\u4F7F\u7528service
{
  "x-request": {
    service: async (params) => {
      const res = await axios.get("/api/data", {
        params,
        timeout: 5000
      })
      return res.data
    }
  }
}

// 3. \u5B8C\u5168\u81EA\u5B9A\u4E49\uFF1A\u4F7F\u7528customService
{
  "x-request": {
    customService: async (config) => {
      const { url, params } = config
      // \u5B9E\u73B0\u5B8C\u5168\u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u903B\u8F91
      const data = await complexRequest(url, params)
      return data
    }
  }
}
`,paraId:3,tocIndex:2},{value:`// \u5168\u5C40\u9519\u8BEF\u5904\u7406\uFF08\u57FA\u7840\u5C42\uFF09
fxr.use(Schema).register({
  onError: (error) => {
    console.error('\u5168\u5C40\u9519\u8BEF:', error);
    notification.error({ message: '\u7CFB\u7EDF\u5F02\u5E38' });
  }
});

// \u5B57\u6BB5\u7EA7\u5904\u7406\uFF08\u5E94\u7528\u5C42\uFF09
{
  "x-request": {
    "onError": "{{ (error) => {
      $self.setFeedback({ type: 'error', message: '\u6570\u636E\u52A0\u8F7D\u5931\u8D25' })
    }}}"
  }
}
`,paraId:4,tocIndex:4},{value:`// \u7EDF\u4E00\u9519\u8BEF\u7801\u6620\u5C04
const ERROR_MAP = {
  401: '\u8BF7\u91CD\u65B0\u767B\u5F55',
  403: '\u6743\u9650\u4E0D\u8DB3',
  500: '\u670D\u52A1\u4E0D\u53EF\u7528',
};

// \u5728\u5168\u5C40\u5904\u7406\u4E2D\u5E94\u7528
fxr.register({
  onError: (err) => {
    const message = ERROR_MAP[err.code] || err.message;
    notification.error({ description: message });
  },
});
`,paraId:5,tocIndex:5},{value:"\u6839\u636E\u8868\u5355\u72B6\u6001\u63A7\u5236\u8BF7\u6C42\u65F6\u673A\uFF1A",paraId:6,tocIndex:7},{value:`{
  "x-request": {
    "url": "/api/advanced-options",
    "ready": "{{ $form.values.type === 'advanced' && !!$form.values.parentId }}"
  }
}
`,paraId:7,tocIndex:7},{value:"\u5408\u7406\u8BBE\u7F6E ready \u6761\u4EF6\u907F\u514D\u4E0D\u5FC5\u8981\u8BF7\u6C42\uFF1A",paraId:8,tocIndex:7},{value:`{
  "x-request": {
    "url": "/api/cities",
    "params": { "provinceId": "{{ $form.values.province }}" },
    "ready": "{{ !!$form.values.province }}"
  }
}
`,paraId:9,tocIndex:7},{value:"\u5B9E\u73B0\u8868\u5355\u5B57\u6BB5\u95F4\u7684\u8054\u52A8\u8BF7\u6C42\uFF1A",paraId:10,tocIndex:8},{value:`{
  "type": "object",
  "properties": {
    "province": {
      "type": "string",
      "title": "\u7701\u4EFD",
      "x-component": "Select",
      "x-request": {
        "url": "/api/provinces"
      }
    },
    "city": {
      "type": "string",
      "title": "\u57CE\u5E02",
      "x-component": "Select",
      "x-request": {
        "url": "/api/cities",
        "params": { "provinceId": "{{ $form.values.province }}" },
        "ready": "{{ !!$form.values.province }}"
      }
    }
  }
}
`,paraId:11,tocIndex:8},{value:"\u5BF9\u4E8E\u590D\u6742\u7684\u8BF7\u6C42\u903B\u8F91\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",paraId:12,tocIndex:9},{value:"customService",paraId:12,tocIndex:9},{value:"\uFF1A",paraId:12,tocIndex:9},{value:`{
  "x-request": {
    "customService": "{{ async (config) => {
      // \u53EF\u4EE5\u8BBF\u95EE\u5B8C\u6574\u7684\u8BF7\u6C42\u914D\u7F6E
      const { url, params, method } = config;

      // \u5B9E\u73B0\u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u903B\u8F91
      try {
        // \u9884\u5904\u7406\u8BF7\u6C42\u53C2\u6570
        const processedParams = processParams(params);

        // \u53D1\u9001\u8BF7\u6C42
        const response = await fetch(url, {
          method,
          body: JSON.stringify(processedParams),
          headers: { 'Content-Type': 'application/json' }
        });

        // \u5904\u7406\u54CD\u5E94
        if (!response.ok) {
          throw new Error(\`\u8BF7\u6C42\u5931\u8D25: \${response.status}\`);
        }

        const data = await response.json();

        // \u540E\u5904\u7406\u54CD\u5E94\u6570\u636E
        return processResponse(data);
      } catch (error) {
        // \u81EA\u5B9A\u4E49\u9519\u8BEF\u5904\u7406
        console.error('\u8BF7\u6C42\u5F02\u5E38:', error);
        throw error;
      }
    }}}"
  }
}
`,paraId:13,tocIndex:9}]},4897:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(18382);const m=[{value:"\u63D2\u4EF6\u9ED8\u8BA4\u5BFC\u51FA FormilyRequest \u7684\u5355\u4F8B\u5BF9\u8C61\uFF0C\u5B9E\u4F8B\u4E0A\u9762\u6302\u8F7D\u4E86 use\u3001register \u65B9\u6CD5\u3002",paraId:0,tocIndex:0},{value:"\u8C03\u7528\u5B9E\u4F8B\u65B9\u6CD5\u540E\uFF0C\u5C31\u53EF\u4EE5\u5728 schema \u4E2D\u4F7F\u7528\u6CE8\u518C\u540E\u7684\u5B57\u6BB5\uFF08\u9ED8\u8BA4\u4E3A\uFF1A",paraId:1,tocIndex:0},{value:"x-request",paraId:1,tocIndex:0},{value:"\uFF09\u3002",paraId:1,tocIndex:0},{value:"use()",paraId:2},{value:"\u63D2\u4EF6\u7684\u6838\u5FC3\u539F\u7406\u662F\u4F7F\u7528 ",paraId:3,tocIndex:2},{value:"Schema.registerPatches",paraId:3,tocIndex:2},{value:" \u65B9\u6CD5\u5C06 ",paraId:3,tocIndex:2},{value:"x-request",paraId:3,tocIndex:2},{value:" \u6CE8\u5165\u5230 schema \u4E2D\u3002",paraId:3,tocIndex:2},{value:"\u4E3A\u4E86\u51CF\u5C11\u5305\u5927\u5C0F\uFF0C\u9700\u8981\u5C06\u6784\u9020\u51FD\u6570 ",paraId:4,tocIndex:2},{value:"Schema",paraId:4,tocIndex:2},{value:" \u901A\u8FC7 use \u51FD\u6570\u4F20\u5165\u63D2\u4EF6\u5185\u90E8\u3002",paraId:4,tocIndex:2},{value:"\u6784\u9020\u51FD\u6570\u6765\u81EA ",paraId:5,tocIndex:2},{value:"@formily/react",paraId:5,tocIndex:2},{value:" \u6216 ",paraId:5,tocIndex:2},{value:"@formily/vue",paraId:5,tocIndex:2},{value:" \u5305\uFF1A",paraId:5,tocIndex:2},{value:`import { Schema } from '@formily/react'; // or @formily/vue
import fxr from 'formily-request';

fxr.use(Schema);
`,paraId:6,tocIndex:2},{value:"register()",paraId:2},{value:"\u901A\u8FC7 register \u53EF\u4EE5\u6CE8\u518C JSON Schema \u7684\u914D\u7F6E\u5B57\u6BB5 \u6216\u8005 \u8BBE\u7F6E\u5168\u5C40\u914D\u7F6E\uFF0C\u7C7B\u578B\u5982\u4E0B\uFF1A",paraId:7,tocIndex:3},{value:"register(): void;\nregister(fieldKey: `x-${string}`): void;\nregister(globalConfig: GlobalXRequest): void;\nregister(fieldKey: `x-${string}`, globalConfig: GlobalXRequest): void;\n",paraId:8,tocIndex:3},{value:"register \u662F\u4E00\u4E2A\u591A\u53C2\u6570\u51FD\u6570\uFF0C\u652F\u6301\u4EE5\u4E0B\u51E0\u79CD\u53C2\u6570\u4F20\u5165\u65B9\u5F0F\uFF1A",paraId:9,tocIndex:3},{value:"\u65E0\u53C2\u6570\uFF1A\u9ED8\u8BA4\u4F7F\u7528 ",paraId:10,tocIndex:3},{value:"x-request",paraId:10,tocIndex:3},{value:" \u6CE8\u518C\u5B57\u6BB5\uFF1B",paraId:10,tocIndex:3},{value:"\u4E00\u4E2A\u53C2\u6570\uFF1A\u6CE8\u518C\u6307\u5B9A\u5B57\u6BB5\uFF0C\u4F8B\u5982 ",paraId:10,tocIndex:3},{value:"x-fetch",paraId:10,tocIndex:3},{value:"\uFF0C\u6216\u8005\u4F20\u5165\u5168\u5C40\u914D\u7F6E\uFF1B",paraId:10,tocIndex:3},{value:"\u4E24\u4E2A\u53C2\u6570\uFF1A\u6CE8\u518C\u6307\u5B9A\u5B57\u6BB5\u548C\u5168\u5C40\u914D\u7F6E\u3002",paraId:10,tocIndex:3},{value:`import fxr from 'formily-request';

fxr.register({
  // \u5168\u5C40\u57FA\u7840URL
  baseURL: 'https://api.example.com',
  // \u5168\u5C40\u9519\u8BEF\u5904\u7406
  onError: (err) => {
    console.error(err);
    message.error('\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5');
  },
  // \u5168\u5C40\u8C03\u8BD5\u6A21\u5F0F
  debug: process.env.NODE_ENV === 'development',
  // \u5168\u5C40\u9759\u6001\u53C2\u6570
  params: {
    token: 'xxx',
  },
});
`,paraId:11,tocIndex:3},{value:"\u5168\u5C40\u914D\u7F6E\u662F\u6307\u5728\u8C03\u7528 ",paraId:12,tocIndex:4},{value:"register",paraId:12,tocIndex:4},{value:" \u65B9\u6CD5\u65F6\u4F20\u5165\u7684\u914D\u7F6E\u5BF9\u8C61\uFF0C\u7C7B\u578B\u5B9A\u4E49\u5982\u4E0B\uFF1A",paraId:12,tocIndex:4},{value:`interface GlobalXRequest extends XRequest, FetchOptions {
  onLog?: (level: LoggerLevel, message: string, error?: any) => void;
}
`,paraId:13,tocIndex:4},{value:"\u5168\u5C40\u914D\u7F6E\u4F1A\u4F5C\u4E3A\u9ED8\u8BA4\u914D\u7F6E\u88AB\u5E94\u7528\u5230\u6BCF\u4E2A\u5B57\u6BB5\u7684\u8BF7\u6C42\u4E2D\uFF0C\u4F46\u5B57\u6BB5\u914D\u7F6E\u4F1A\u8986\u76D6\u5168\u5C40\u914D\u7F6E\u3002\u5177\u4F53\u89C4\u5219\u5982\u4E0B\uFF1A",paraId:14,tocIndex:4},{value:"\u53C2\u6570\u5408\u5E76\u89C4\u5219",paraId:15,tocIndex:4},{value:"\uFF1A",paraId:15,tocIndex:4},{value:"\u5168\u5C40 ",paraId:16,tocIndex:4},{value:"params",paraId:16,tocIndex:4},{value:" \u4F1A\u4E0E\u5B57\u6BB5 ",paraId:16,tocIndex:4},{value:"params",paraId:16,tocIndex:4},{value:" \u8FDB\u884C\u6D45\u5408\u5E76",paraId:16,tocIndex:4},{value:"\u5B57\u6BB5 ",paraId:16,tocIndex:4},{value:"params",paraId:16,tocIndex:4},{value:" \u7684\u540C\u540D\u5C5E\u6027\u4F1A\u8986\u76D6\u5168\u5C40 ",paraId:16,tocIndex:4},{value:"params",paraId:16,tocIndex:4},{value:"\u5982\u679C\u5B57\u6BB5\u914D\u7F6E\u4E86 ",paraId:16,tocIndex:4},{value:"staticParams",paraId:16,tocIndex:4},{value:"\uFF08\u5DF2\u5E9F\u5F03\uFF09\uFF0C\u4F1A\u5148\u4E0E\u5168\u5C40 ",paraId:16,tocIndex:4},{value:"params",paraId:16,tocIndex:4},{value:" \u5408\u5E76\uFF0C\u518D\u4E0E\u5B57\u6BB5 ",paraId:16,tocIndex:4},{value:"params",paraId:16,tocIndex:4},{value:" \u5408\u5E76",paraId:16,tocIndex:4},{value:"\u8C03\u8BD5\u6A21\u5F0F\u4F18\u5148\u7EA7",paraId:17,tocIndex:4},{value:"\uFF1A",paraId:17,tocIndex:4},{value:"\u5B57\u6BB5\u7684 ",paraId:18,tocIndex:4},{value:"debug",paraId:18,tocIndex:4},{value:" \u914D\u7F6E\u4F18\u5148\u7EA7\u9AD8\u4E8E\u5168\u5C40\u914D\u7F6E",paraId:18,tocIndex:4},{value:"\u5F53\u5168\u5C40 ",paraId:18,tocIndex:4},{value:"debug",paraId:18,tocIndex:4},{value:" \u4E3A ",paraId:18,tocIndex:4},{value:"true",paraId:18,tocIndex:4},{value:" \u65F6\uFF0C\u6240\u6709\u672A\u663E\u5F0F\u8BBE\u7F6E ",paraId:18,tocIndex:4},{value:"debug",paraId:18,tocIndex:4},{value:" \u7684\u5B57\u6BB5\u90FD\u4F1A\u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F",paraId:18,tocIndex:4},{value:"\u4F5C\u7528\u57DF\u8BF4\u660E",paraId:19,tocIndex:4},{value:"\uFF1A",paraId:19,tocIndex:4},{value:"service",paraId:20,tocIndex:4},{value:" \u548C ",paraId:20,tocIndex:4},{value:"customService",paraId:20,tocIndex:4},{value:" \u7684\u4F5C\u7528\u57DF\u5305\u542B\u4E86\u5168\u5C40\u914D\u7F6E",paraId:20,tocIndex:4},{value:"\u5728\u8FD9\u4E9B\u51FD\u6570\u5185\u53EF\u4EE5\u8BBF\u95EE\u5230\u5408\u5E76\u540E\u7684\u8BF7\u6C42\u914D\u7F6E",paraId:20,tocIndex:4},{value:"\u53EF\u4EE5\u901A\u8FC7\u8FD9\u4E9B\u51FD\u6570\u5B9E\u73B0\u66F4\u590D\u6742\u7684\u8BF7\u6C42\u903B\u8F91\uFF0C\u5982\u8BF7\u6C42\u91CD\u8BD5\u3001\u6570\u636E\u7F13\u5B58\u7B49",paraId:20,tocIndex:4},{value:"onLog",paraId:2},{value:"\u7C7B\u578B",paraId:21,tocIndex:5},{value:": ",paraId:21,tocIndex:5},{value:"(level: LoggerLevel, message: string, error?: any) => void",paraId:21,tocIndex:5},{value:"\u5FC5\u586B",paraId:21,tocIndex:5},{value:": \u5426",paraId:21,tocIndex:5},{value:"\u8BF4\u660E",paraId:21,tocIndex:5},{value:": \u5168\u5C40\u65E5\u5FD7\u5904\u7406\u51FD\u6570\uFF0C\u7528\u4E8E\u7EDF\u4E00\u5904\u7406\u548C\u76D1\u63A7\u8BF7\u6C42\u8FC7\u7A0B\u4E2D\u7684\u5404\u7C7B\u4FE1\u606F",paraId:21,tocIndex:5},{value:"\u53C2\u6570\u8BF4\u660E",paraId:21,tocIndex:5},{value:`:
`,paraId:21,tocIndex:5},{value:"level",paraId:22,tocIndex:5},{value:": \u65E5\u5FD7\u7EA7\u522B\uFF0C\u53EF\u9009\u503C\uFF1A",paraId:22,tocIndex:5},{value:'"INFO"',paraId:22,tocIndex:5},{value:" | ",paraId:22,tocIndex:5},{value:'"WARN"',paraId:22,tocIndex:5},{value:" | ",paraId:22,tocIndex:5},{value:'"ERROR"',paraId:22,tocIndex:5},{value:" | ",paraId:22,tocIndex:5},{value:'"GROUP"',paraId:22,tocIndex:5},{value:"message",paraId:22,tocIndex:5},{value:": \u65E5\u5FD7\u6D88\u606F\u5185\u5BB9",paraId:22,tocIndex:5},{value:"error",paraId:22,tocIndex:5},{value:": \u9519\u8BEF\u5BF9\u8C61\uFF08\u4EC5\u5728\u9519\u8BEF\u65F6\u5B58\u5728\uFF09",paraId:22,tocIndex:5},{value:"\u5177\u4F53\u7684\u4F7F\u7528\u573A\u666F\u548C\u793A\u4F8B\u4EE3\u7801\u8BF7\u53C2\u8003",paraId:23},{value:"\u914D\u7F6E\u6982\u8FF0",paraId:24},{value:"\u3002",paraId:23},{value:"\u5B57\u6BB5\u914D\u7F6E\u662F\u6307\u5728 ",paraId:25,tocIndex:6},{value:"JSON Schema",paraId:25,tocIndex:6},{value:" \u4E2D\u914D\u7F6E\u7684 ",paraId:25,tocIndex:6},{value:"x-reqeust",paraId:25,tocIndex:6},{value:" \u5BF9\u8C61\uFF0C\u7C7B\u578B\u5B9A\u4E49\u5982\u4E0B\uFF1A",paraId:25,tocIndex:6},{value:`interface XRequest extends RequestInit {
  baseURL?: string;
  url?: string;
  method?: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';
  params?: Record<string, any>;
  format?: (data: unknown) => any[];
  ready?: boolean | ((request: XRequest) => boolean);
  mountLoad?: boolean;
  service?: (params: XRequest['params']) => Promise<unknown>;
  customService?: (config: XRequest) => Promise<unknown>;
  debug?: boolean;
  onSuccess?: (data: unknown, request: XRequest) => void;
  staticParams?: Record<string, any>;
  disabledReactive?: boolean;
}
`,paraId:26,tocIndex:6},{value:"\u7531\u4E8E formily-request \u9ED8\u8BA4\u4F7F\u7528 ",paraId:27},{value:"fetch",paraId:27},{value:" \u53D1\u8D77\u8BF7\u6C42\uFF0C\u6240\u4EE5\u914D\u7F6E\u7684\u7C7B\u578B\u4F1A\u7EE7\u627F fetch \u7684\u7B2C 2 \u4E2A\u53C2\u6570 ",paraId:27},{value:"RequestInit",paraId:27},{value:"\uFF0C\u8FD9\u6837\u7684\u8BBE\u8BA1\u53EF\u4EE5\u6700\u5927\u9650\u5EA6\u4F7F\u7528 fetch \u914D\u7F6E\uFF0C\u53EF\u4EE5\u5728\u5168\u5C40\u6216\u5B57\u6BB5\u5904\u914D\u7F6E fetch \u81EA\u5E26\u914D\u7F6E\uFF0C\u4F8B\u5982\uFF1A",paraId:27},{value:"headers",paraId:27},{value:", ",paraId:27},{value:"credentials",paraId:27},{value:" \u7B49\u7B49\u3002",paraId:27},{value:"baseURL",paraId:2},{value:"\u7C7B\u578B",paraId:28,tocIndex:7},{value:": ",paraId:28,tocIndex:7},{value:"string",paraId:28,tocIndex:7},{value:"\u5FC5\u586B",paraId:28,tocIndex:7},{value:": \u5426",paraId:28,tocIndex:7},{value:"\u8BF4\u660E",paraId:28,tocIndex:7},{value:": \u63A5\u53E3\u524D\u7F00\uFF0C\u914D\u5408 ",paraId:28,tocIndex:7},{value:"url",paraId:28,tocIndex:7},{value:" \u5B57\u6BB5\u4F7F\u7528\uFF0C\u901A\u5E38\u914D\u7F6E\u5728\u5168\u5C40\u3002",paraId:28,tocIndex:7},{value:"\u793A\u4F8B",paraId:28,tocIndex:7},{value:":",paraId:28,tocIndex:7},{value:`fxr.register({
  baseURL: process.env.BASE_URL, // \u4F8B\u5982\uFF1A/api
});

const schema = {
  'x-request': {
    url: '/users', // \u6700\u7EC8\u8BF7\u6C42\u5730\u5740\u4E3A /api/users
  },
};
`,paraId:29,tocIndex:7},{value:"url",paraId:2},{value:"\u7C7B\u578B",paraId:30,tocIndex:8},{value:": ",paraId:30,tocIndex:8},{value:"string",paraId:30,tocIndex:8},{value:"\u5FC5\u586B",paraId:30,tocIndex:8},{value:": \u662F",paraId:30,tocIndex:8},{value:"\u8BF4\u660E",paraId:30,tocIndex:8},{value:": \u63A5\u53E3\u8BF7\u6C42\u5730\u5740\uFF0C\u4F7F\u7528 formily-request \u9ED8\u8BA4\u7684 fetch \u53D1\u8D77\u8BF7\u6C42\u65F6\uFF0C\u5FC5\u987B\u8981\u4F20\u5165\u8BE5\u5B57\u6BB5\u3002",paraId:30,tocIndex:8},{value:"\u793A\u4F8B",paraId:30,tocIndex:8},{value:":",paraId:30,tocIndex:8},{value:`{
  "x-request": {
    url: "https://api.example.com/users" // \u6216\u914D\u5408 baseURL \u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84
  }
}
`,paraId:31,tocIndex:8},{value:"method",paraId:2},{value:"\u7C7B\u578B",paraId:32,tocIndex:9},{value:": ",paraId:32,tocIndex:9},{value:"'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE'",paraId:32,tocIndex:9},{value:"\u9ED8\u8BA4\u503C",paraId:32,tocIndex:9},{value:": ",paraId:32,tocIndex:9},{value:"'GET'",paraId:32,tocIndex:9},{value:"\u8BF4\u660E",paraId:32,tocIndex:9},{value:": HTTP \u8BF7\u6C42\u65B9\u6CD5\uFF0C\u914D\u5408 ",paraId:32,tocIndex:9},{value:"url",paraId:32,tocIndex:9},{value:" \u5B57\u6BB5\u4F7F\u7528\u3002",paraId:32,tocIndex:9},{value:"\u793A\u4F8B",paraId:32,tocIndex:9},{value:":",paraId:32,tocIndex:9},{value:`{
  "x-request": {
    url: "/api/users",
    method: "POST",
    params: { name: "John" } // \u5982\u679C method \u4E3A post\uFF0C\u4F7F\u7528 fetch \u53D1\u8D77\u8BF7\u6C42\u65F6\uFF0Cparams \u4F1A\u88AB\u5E8F\u5217\u5316\u540E\u8D4B\u503C\u7ED9 body
  }
}
`,paraId:33,tocIndex:9},{value:"params",paraId:2},{value:"\u7C7B\u578B",paraId:34,tocIndex:10},{value:": ",paraId:34,tocIndex:10},{value:"Record<string, any>",paraId:34,tocIndex:10},{value:"\u5FC5\u586B",paraId:34,tocIndex:10},{value:": \u5426",paraId:34,tocIndex:10},{value:"\u8BF4\u660E",paraId:34,tocIndex:10},{value:": \u52A8\u6001\u8BF7\u6C42\u53C2\u6570\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8868\u8FBE\u5F0F\u52A8\u6001\u751F\u6210",paraId:34,tocIndex:10},{value:"\u793A\u4F8B",paraId:34,tocIndex:10},{value:":",paraId:34,tocIndex:10},{value:`{
  "x-request": {
    url: "/api/search",
    params: {
      keyword: "{{ $self.value }}", // \u4F7F\u7528\u5F53\u524D\u5B57\u6BB5\u503C\u4F5C\u4E3A\u641C\u7D22\u5173\u952E\u8BCD
      type: "user"
    }
  }
}
`,paraId:35,tocIndex:10},{value:"format",paraId:2},{value:"\u7C7B\u578B",paraId:36,tocIndex:11},{value:": ",paraId:36,tocIndex:11},{value:"(res: unknown) => any[]",paraId:36,tocIndex:11},{value:"\u5FC5\u586B",paraId:36,tocIndex:11},{value:": \u5426",paraId:36,tocIndex:11},{value:"\u8BF4\u660E",paraId:36,tocIndex:11},{value:": \u6570\u636E\u683C\u5F0F\u5316\u51FD\u6570\uFF0C\u7528\u4E8E\u5C06\u63A5\u53E3\u8FD4\u56DE\u7684\u6570\u636E\u8F6C\u6362\u4E3A\u7EC4\u4EF6\u6240\u9700\u7684\u683C\u5F0F\u3002",paraId:36,tocIndex:11},{value:"\u793A\u4F8B",paraId:36,tocIndex:11},{value:":",paraId:36,tocIndex:11},{value:`{
  "x-request": {
    url: "/api/users",
    format: '{{ (res) => res?.data?.map(user => ({ label: user.name, value: user.id } }}'
  }
}
`,paraId:37,tocIndex:11},{value:"\u65E0\u8BBA\u662F\u9ED8\u8BA4\u7684 fetch\uFF0C\u8FD8\u662F service\u3001customService\uFF0C\u83B7\u53D6\u5230\u7684\u63A5\u53E3\u6570\u636E\uFF0C\u90FD\u4F1A\u7ECF\u8FC7 format \u51FD\u6570\u5904\u7406\uFF0C\u7136\u540E\u88AB\u5E94\u7528\u5230 field.dataSource\u3002",paraId:38},{value:`
\u5982\u679C\u81EA\u884C\u5904\u7406\u8FC7\u6570\u636E\u5E76\u9002\u914D\u5F53\u524D\u7EC4\u4EF6\uFF0C\u53EF\u4EE5\u4E0D\u914D\u7F6E format\u3002`,paraId:38},{value:"ready",paraId:2},{value:"\u7C7B\u578B",paraId:39,tocIndex:12},{value:": ",paraId:39,tocIndex:12},{value:"boolean | ((request: XRequest) => boolean)",paraId:39,tocIndex:12},{value:"\u5FC5\u586B",paraId:39,tocIndex:12},{value:": \u5426",paraId:39,tocIndex:12},{value:"\u8BF4\u660E",paraId:39,tocIndex:12},{value:": \u662F\u5426\u53D1\u8D77\u8BF7\u6C42\uFF0C\u503C\u4E3A ",paraId:39,tocIndex:12},{value:"false",paraId:39,tocIndex:12},{value:" \u6216\u8FD4\u56DE ",paraId:39,tocIndex:12},{value:"false",paraId:39,tocIndex:12},{value:" \u7684\u51FD\u6570\u65F6\uFF0C\u5C06\u963B\u6B62\u8BF7\u6C42\u53D1\u9001\u3002",paraId:39,tocIndex:12},{value:"\u793A\u4F8B",paraId:39,tocIndex:12},{value:":",paraId:39,tocIndex:12},{value:`{
  "x-request": {
    url: "/api/data",
    ready: '{{ $self.visible }}', // \u5F53\u524D\u5B57\u6BB5\u53EF\u89C1\u65F6\u624D\u4F1A\u53D1\u8D77\u8BF7\u6C42
    ready: '{{ request => !!request?.params?.id }}' // \u5F53\u524D\u8BF7\u6C42\u53C2\u6570id\u5B58\u5728\u65F6\u624D\u4F1A\u53D1\u8D77\u8BF7\u6C42
  }
}
`,paraId:40,tocIndex:12},{value:"mountLoad",paraId:2},{value:"\u7C7B\u578B",paraId:41,tocIndex:13},{value:": ",paraId:41,tocIndex:13},{value:"boolean",paraId:41,tocIndex:13},{value:"\u9ED8\u8BA4\u503C",paraId:41,tocIndex:13},{value:": ",paraId:41,tocIndex:13},{value:"true",paraId:41,tocIndex:13},{value:"\u8BF4\u660E",paraId:41,tocIndex:13},{value:": \u63A7\u5236\u662F\u5426\u5728\u7EC4\u4EF6\u6302\u8F7D\u540E\u53D1\u8D77\u8BF7\u6C42\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u7EC4\u4EF6\u6302\u8F7D\u540E\u4F1A\u81EA\u52A8\u53D1\u8D77\u8BF7\u6C42\u3002",paraId:41,tocIndex:13},{value:"\u793A\u4F8B",paraId:41,tocIndex:13},{value:":",paraId:41,tocIndex:13},{value:`{
  "x-request": {
    url: "/api/options",
    mountLoad: false // \u7981\u7528\u6302\u8F7D\u540E\u8BF7\u6C42\uFF0C\u9700\u8981\u624B\u52A8\u89E6\u53D1\u6570\u636E\u52A0\u8F7D
  }
}
`,paraId:42,tocIndex:13},{value:"service",paraId:2},{value:"\u7C7B\u578B",paraId:43,tocIndex:14},{value:": ",paraId:43,tocIndex:14},{value:"(params: any) => Promise<unknown>",paraId:43,tocIndex:14},{value:"\u5FC5\u586B",paraId:43,tocIndex:14},{value:": \u5426",paraId:43,tocIndex:14},{value:"\u8BF4\u660E",paraId:43,tocIndex:14},{value:": \u81EA\u5B9A\u4E49\u8BF7\u6C42\u670D\u52A1\uFF0C\u53EF\u4EE5\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u65B9\u6CD5\u66FF\u4EE3\u9ED8\u8BA4\u7684 fetch \u8BF7\u6C42\u3002",paraId:43,tocIndex:14},{value:"\u793A\u4F8B",paraId:43,tocIndex:14},{value:":",paraId:43,tocIndex:14},{value:`{
  "x-request": {
    service: async (params) => {
      // \u4F7F\u7528\u81EA\u5B9A\u4E49\u7684axios\u5B9E\u4F8B\u53D1\u9001\u8BF7\u6C42
      const response = await axios.get('/api/users', { params })
      return response.data
    }
  }
}
`,paraId:44,tocIndex:14},{value:"customService",paraId:2},{value:"\u7C7B\u578B",paraId:45,tocIndex:15},{value:": ",paraId:45,tocIndex:15},{value:"(config: RequestConfig) => Promise<unknown>",paraId:45,tocIndex:15},{value:"\u5FC5\u586B",paraId:45,tocIndex:15},{value:": \u5426",paraId:45,tocIndex:15},{value:"\u8BF4\u660E",paraId:45,tocIndex:15},{value:": \u5B8C\u5168\u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u903B\u8F91\u51FD\u6570\uFF0C\u5165\u53C2\u4E3A ",paraId:45,tocIndex:15},{value:"x-request",paraId:45,tocIndex:15},{value:" \u914D\u7F6E\u5BF9\u8C61\uFF0C\u8FD4\u56DE\u503C\u4E3A\u8BF7\u6C42\u7ED3\u679C\u3002",paraId:45,tocIndex:15},{value:"\u793A\u4F8B",paraId:45,tocIndex:15},{value:":",paraId:45,tocIndex:15},{value:`{
  "x-request": {
    customService: async (config) => {
      const { url, params, method } = config
      // \u5B9E\u73B0\u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u903B\u8F91
      const response = await customFetch(url, {
        method,
        params,
        // \u6DFB\u52A0\u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u5904\u7406
        timeout: 5000,
        retries: 3
      })
      return response.data
    }
  }
}
`,paraId:46,tocIndex:15},{value:"debug",paraId:2},{value:"\u985E\u578B",paraId:47,tocIndex:16},{value:": ",paraId:47,tocIndex:16},{value:"boolean",paraId:47,tocIndex:16},{value:"\u9ED8\u8BA4\u503C",paraId:47,tocIndex:16},{value:": ",paraId:47,tocIndex:16},{value:"false",paraId:47,tocIndex:16},{value:"\u8BF4\u660E",paraId:47,tocIndex:16},{value:": \u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F\uFF0C\u4F1A\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u8BE6\u7EC6\u7684\u8BF7\u6C42\u4FE1\u606F",paraId:47,tocIndex:16},{value:"\u793A\u4F8B",paraId:47,tocIndex:16},{value:":",paraId:47,tocIndex:16},{value:`{
  "x-request": {
    url: "/api/data",
    debug: true // \u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F
  }
}
`,paraId:48,tocIndex:16},{value:"onError",paraId:2},{value:"\u985E\u578B",paraId:49,tocIndex:17},{value:": ",paraId:49,tocIndex:17},{value:"(err: unknown) => void",paraId:49,tocIndex:17},{value:"\u5FC5\u586B",paraId:49,tocIndex:17},{value:": \u5426",paraId:49,tocIndex:17},{value:"\u8BF4\u660E",paraId:49,tocIndex:17},{value:": \u9519\u8BEF\u5904\u7406\u51FD\u6570\uFF0C\u7528\u4E8E\u7EDF\u4E00\u5904\u7406\u8BF7\u6C42\u9519\u8BEF",paraId:49,tocIndex:17},{value:"\u793A\u4F8B",paraId:49,tocIndex:17},{value:":",paraId:49,tocIndex:17},{value:`{
  "x-request": {
    url: "/api/data",
    onError: (error) => {
      // \u81EA\u5B9A\u4E49\u9519\u8BEF\u5904\u7406\u903B\u8F91
      console.error('\u8BF7\u6C42\u5931\u8D25:', error)
      message.error('\u6570\u636E\u52A0\u8F7D\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5')
    }
  }
}
`,paraId:50,tocIndex:17},{value:"disabledReactive",paraId:2},{value:"\u7C7B\u578B",paraId:51,tocIndex:18},{value:": ",paraId:51,tocIndex:18},{value:"boolean",paraId:51,tocIndex:18},{value:"\u9ED8\u8BA4\u503C",paraId:51,tocIndex:18},{value:": ",paraId:51,tocIndex:18},{value:"false",paraId:51,tocIndex:18},{value:"\u8BF4\u660E",paraId:51,tocIndex:18},{value:": \u7981\u7528\u54CD\u5E94\u5F0F\u66F4\u65B0\u3002\u5F53\u8BBE\u7F6E\u4E3A ",paraId:51,tocIndex:18},{value:"true",paraId:51,tocIndex:18},{value:" \u65F6\uFF0C\u7EC4\u4EF6\u5C06\u4E0D\u4F1A\u5BF9\u8BF7\u6C42\u53C2\u6570\u7684\u53D8\u5316\u505A\u51FA\u54CD\u5E94\uFF0C\u53EF\u4EE5\u7528\u4E8E\u4F18\u5316\u9AD8\u9891\u66F4\u65B0\u573A\u666F\u4E0B\u7684\u6027\u80FD\u3002",paraId:51,tocIndex:18},{value:"\u793A\u4F8B",paraId:51,tocIndex:18},{value:":",paraId:51,tocIndex:18},{value:`{
  "x-request": {
    "url": "/api/search",
    "params": {
      "keyword": "{{ $self.value }}" // \u8F93\u5165\u6846\u503C\u53D8\u5316\u65F6\u4E0D\u4F1A\u89E6\u53D1\u8BF7\u6C42
    },
    "disabledReactive": true // \u7981\u7528\u54CD\u5E94\u5F0F\u66F4\u65B0
  }
}
`,paraId:52,tocIndex:18},{value:"\u5177\u4F53\u53C2\u8003\u793A\u4F8B\uFF1A",paraId:53,tocIndex:18},{value:"disabledreactive",paraId:54,tocIndex:18},{value:"staticParams",paraId:2},{value:"\u7C7B\u578B",paraId:55,tocIndex:19},{value:": ",paraId:55,tocIndex:19},{value:"Record<string, any>",paraId:55,tocIndex:19},{value:"\u5FC5\u586B",paraId:55,tocIndex:19},{value:": \u5426",paraId:55,tocIndex:19},{value:"\u8BF4\u660E",paraId:55,tocIndex:19},{value:": \u9759\u6001\u8BF7\u6C42\u53C2\u6570\uFF0C\u4E0D\u4F1A\u88AB\u52A8\u6001\u53C2\u6570\u8986\u76D6\uFF0C\u901A\u5E38\u7528\u4E8E\u8BBE\u7F6E\u56FA\u5B9A\u7684\u67E5\u8BE2\u6761\u4EF6",paraId:55,tocIndex:19},{value:"staticParams \u5728 ",paraId:56},{value:"v1.0.0",paraId:56},{value:" \u7248\u672C\u4E2D\u5DF2\u88AB\u6807\u8BB0\u4E3A\u5E9F\u5F03\uFF0C\u540E\u7EED\u7248\u672C\u4E0D\u518D\u652F\u6301\u3002\u5982\u9700\u8BBE\u7F6E\u9759\u6001\u53C2\u6570\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",paraId:56},{value:"params",paraId:56},{value:" \u5B57\u6BB5\u3002",paraId:56},{value:"\u793A\u4F8B",paraId:57},{value:":",paraId:57},{value:`{
  "x-request": {
    url: "/api/products",
    staticParams: {
      category: "electronics" // \u56FA\u5B9A\u67E5\u8BE2\u7535\u5B50\u4EA7\u54C1\u7C7B\u522B
    },
    params: {
      keyword: "{{ $self.value }}" // \u52A8\u6001\u641C\u7D22\u5173\u952E\u8BCD
    }
  }
}
`,paraId:58},{value:"updateRequest",paraId:2},{value:"formily-request \u5185\u90E8\u901A\u8FC7 ",paraId:59,tocIndex:21},{value:"inject",paraId:59,tocIndex:21},{value:" \u65B9\u6CD5\u6CE8\u5165\u4E86 updateRequest \u65B9\u6CD5\uFF0C\u7528\u4E8E\u52A8\u6001\u66F4\u65B0\u8BF7\u6C42\u914D\u7F6E\u3002",paraId:59,tocIndex:21},{value:"\u7C7B\u578B\u5B9A\u4E49",paraId:60,tocIndex:21},{value:"\uFF1A",paraId:60,tocIndex:21},{value:`type UpdateRequest = (updater: (request: XRequest) => void) => void;
`,paraId:61,tocIndex:21},{value:"\u53C2\u6570\u8BF4\u660E",paraId:62,tocIndex:21},{value:"\uFF1A",paraId:62,tocIndex:21},{value:"updater",paraId:63,tocIndex:21},{value:`\uFF1A\u66F4\u65B0\u51FD\u6570\uFF0C\u63A5\u6536\u5F53\u524D\u8BF7\u6C42\u914D\u7F6E\u4F5C\u4E3A\u53C2\u6570
`,paraId:63,tocIndex:21},{value:"request",paraId:64,tocIndex:21},{value:"\uFF1A\u5F53\u524D\u5B57\u6BB5\u7684\u8BF7\u6C42\u914D\u7F6E\uFF0C\u662F\u4E00\u4E2A observable \u5BF9\u8C61",paraId:64,tocIndex:21},{value:"\u5728\u51FD\u6570\u5185\u4FEE\u6539 request \u7684\u4EFB\u610F\u5C5E\u6027\u90FD\u4F1A\u89E6\u53D1\u91CD\u65B0\u8BF7\u6C42",paraId:64,tocIndex:21},{value:"\u4F7F\u7528\u573A\u666F",paraId:65,tocIndex:21},{value:"\uFF1A",paraId:65,tocIndex:21},{value:"\u52A8\u6001\u4FEE\u6539\u8BF7\u6C42\u53C2\u6570",paraId:66,tocIndex:21},{value:"\u66F4\u65B0\u8BF7\u6C42 URL",paraId:66,tocIndex:21},{value:"\u5207\u6362\u8BF7\u6C42\u65B9\u6CD5",paraId:66,tocIndex:21},{value:"\u4FEE\u6539\u8BF7\u6C42\u914D\u7F6E\u7684\u4EFB\u610F\u5C5E\u6027",paraId:66,tocIndex:21},{value:"\u793A\u4F8B",paraId:67,tocIndex:21},{value:"\uFF1A",paraId:67,tocIndex:21},{value:`{
  "type": "string",
  "x-component": "Select",
  "x-component-props": {
    // \u641C\u7D22\u65F6\u66F4\u65B0\u67E5\u8BE2\u53C2\u6570
    "onSearch": "{{ keyword => $self.invoke('updateRequest', request => request.params.keyword = keyword) }}",
    // \u5207\u6362\u65F6\u66F4\u65B0\u8BF7\u6C42\u65B9\u6CD5
    "onChange": "{{ value => $self.invoke('updateRequest', request => request.method = value) }}"
  },
  "x-request": {
    "url": "/api/search",
    "params": { "keyword": "" },
    "method": "GET"
  }
}
`,paraId:68,tocIndex:21},{value:"reloadRequest",paraId:2},{value:"\u7C7B\u578B\u5B9A\u4E49",paraId:69,tocIndex:22},{value:"\uFF1A",paraId:69,tocIndex:22},{value:`type ReloadRequest = () => Promise<void>;
`,paraId:70,tocIndex:22},{value:"\u8BF4\u660E",paraId:71,tocIndex:22},{value:`\uFF1A
\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u7684\u65B9\u6CD5\uFF0C\u4F7F\u7528\u5F53\u524D\u7684\u8BF7\u6C42\u914D\u7F6E\u91CD\u65B0\u83B7\u53D6\u6570\u636E\u3002\u4E0E `,paraId:71,tocIndex:22},{value:"updateRequest",paraId:71,tocIndex:22},{value:" \u7684\u533A\u522B\uFF1A",paraId:71,tocIndex:22},{value:"reloadRequest",paraId:72,tocIndex:22},{value:" \u76F4\u63A5\u4F7F\u7528\u5F53\u524D\u914D\u7F6E\u91CD\u65B0\u8BF7\u6C42",paraId:72,tocIndex:22},{value:"updateRequest",paraId:72,tocIndex:22},{value:" \u9700\u8981\u4F20\u5165\u56DE\u8C03\u51FD\u6570\u4FEE\u6539\u914D\u7F6E\u540E\u8BF7\u6C42",paraId:72,tocIndex:22},{value:"\u4F7F\u7528\u573A\u666F",paraId:73,tocIndex:22},{value:"\uFF1A",paraId:73,tocIndex:22},{value:"\u624B\u52A8\u5237\u65B0\u6570\u636E",paraId:74,tocIndex:22},{value:"\u7279\u5B9A\u4E8B\u4EF6\u89E6\u53D1\u65F6\u91CD\u65B0\u52A0\u8F7D",paraId:74,tocIndex:22},{value:"\u4F9D\u8D56\u9879\u53D8\u5316\u65F6\u5237\u65B0",paraId:74,tocIndex:22},{value:"\u793A\u4F8B",paraId:75,tocIndex:22},{value:"\uFF1A",paraId:75,tocIndex:22},{value:`{
  "type": "string",
  "x-component": "Select",
  "x-component-props": {
    // \u5C55\u5F00\u4E0B\u62C9\u6846\u65F6\u5237\u65B0\u6570\u636E
    "onDropdownVisibleChange": "{{ visible => visible && $self.invoke('reloadRequest') }}",
    // \u70B9\u51FB\u5237\u65B0\u6309\u94AE\u65F6\u91CD\u65B0\u52A0\u8F7D
    "suffixIcon": "{{ <RefreshIcon onClick={() => $self.invoke('reloadRequest')} /> }}"
  },
  "x-request": {
    "url": "/api/options",
    "method": "GET"
  }
}
  },
  "x-request": {
    "url": "/api/options",
    "params": { "type": "user" },
    "mountLoad": false // \u7981\u7528\u6302\u8F7D\u540E\u8BF7\u6C42
  }
}
`,paraId:76,tocIndex:22},{value:"\u4EE5\u4E0B\u573A\u666F\u7279\u522B\u9002\u5408\u4F7F\u7528 ",paraId:77,tocIndex:22},{value:"reloadRequest",paraId:77,tocIndex:22},{value:"\uFF1A",paraId:77,tocIndex:22},{value:"\u4E0B\u62C9\u6846\u5C55\u5F00\u65F6\u5237\u65B0\u9009\u9879\u6570\u636E",paraId:78,tocIndex:22},{value:"\u7528\u6237\u624B\u52A8\u89E6\u53D1\u6570\u636E\u5237\u65B0",paraId:78,tocIndex:22},{value:"\u9700\u8981\u5B9A\u65F6\u66F4\u65B0\u6570\u636E",paraId:78,tocIndex:22}]},74579:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(38278);const m=[{value:"\u53C2\u6570\u5904\u7406",paraId:0,tocIndex:0},{value:"\u4F7F\u7528 ",paraId:1,tocIndex:0},{value:"url",paraId:1,tocIndex:0},{value:" \u914D\u7F6E\u65F6\uFF0C\u5982\u679C\u9700\u8981\u914D\u7F6E ",paraId:1,tocIndex:0},{value:"params",paraId:1,tocIndex:0},{value:" \uFF0C\u987B\u4E3A\u5BF9\u8C61\u7C7B\u578B",paraId:1,tocIndex:0},{value:"\u52A8\u6001\u53C2\u6570\u4F1A\u8986\u76D6\u9759\u6001\u53C2\u6570\u4E2D\u7684\u540C\u540D\u5B57\u6BB5",paraId:1,tocIndex:0},{value:" (\u540E\u7EED\u7248\u672C\u4E0D\u518D\u652F\u6301 staticParams)",paraId:1,tocIndex:0},{value:"\u8BF7\u6C42\u65F6\u673A",paraId:2,tocIndex:0},{value:"\u8BBE\u7F6E ",paraId:3,tocIndex:0},{value:"mountLoad: false",paraId:3,tocIndex:0},{value:" \u53EF\u4EE5\u9632\u6B62\u7EC4\u4EF6\u6302\u8F7D\u65F6\u81EA\u52A8\u8BF7\u6C42",paraId:3,tocIndex:0},{value:"\u53EF\u4EE5\u901A\u8FC7\u8868\u5355\u4E8B\u4EF6\u624B\u52A8\u89E6\u53D1\u6570\u636E\u52A0\u8F7D",paraId:3,tocIndex:0},{value:"\u9519\u8BEF\u5904\u7406",paraId:4,tocIndex:0},{value:"\u5EFA\u8BAE\u914D\u7F6E\u5168\u5C40\u7684\u9519\u8BEF\u5904\u7406\u51FD\u6570",paraId:5,tocIndex:0},{value:"\u7279\u6B8A\u573A\u666F\u53EF\u4EE5\u5728\u5177\u4F53\u8BF7\u6C42\u4E2D\u8986\u76D6\u9519\u8BEF\u5904\u7406",paraId:5,tocIndex:0},{value:"\u9AD8\u7EA7\u4F7F\u7528\u573A\u666F",paraId:6,tocIndex:0},{value:"\u7ED3\u5408 ",paraId:7,tocIndex:0},{value:"service",paraId:7,tocIndex:0},{value:" \u548C ",paraId:7,tocIndex:0},{value:"format",paraId:7,tocIndex:0},{value:" \u5B9E\u73B0\u6570\u636E\u8F6C\u6362\u548C\u7F13\u5B58",paraId:7,tocIndex:0},{value:"\u4F7F\u7528 ",paraId:7,tocIndex:0},{value:"customService",paraId:7,tocIndex:0},{value:" \u5B9E\u73B0\u590D\u6742\u7684\u8BF7\u6C42\u903B\u8F91\u548C\u91CD\u8BD5\u673A\u5236",paraId:7,tocIndex:0},{value:"\u914D\u5408 ",paraId:7,tocIndex:0},{value:"debug",paraId:7,tocIndex:0},{value:" \u6A21\u5F0F\u8FDB\u884C\u95EE\u9898\u6392\u67E5",paraId:7,tocIndex:0}]},71090:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(69292);const m=[{value:"\u4F18\u5148\u7EA7\u4ECE\u9AD8\u5230\u4F4E\u4F9D\u6B21\u4E3A\uFF1A",paraId:0,tocIndex:1},{value:"customService",paraId:1,tocIndex:1},{value:" - \u5B8C\u5168\u81EA\u5B9A\u4E49\u8BF7\u6C42\u903B\u8F91\uFF08\u6700\u9AD8\u4F18\u5148\u7EA7\uFF09",paraId:1,tocIndex:1},{value:"service",paraId:1,tocIndex:1},{value:" - \u81EA\u5B9A\u4E49\u8BF7\u6C42\u670D\u52A1",paraId:1,tocIndex:1},{value:"url",paraId:1,tocIndex:1},{value:" - \u57FA\u7840\u8BF7\u6C42\u914D\u7F6E",paraId:1,tocIndex:1},{value:"\u5F53\u540C\u65F6\u914D\u7F6E\u591A\u4E2A\u65F6\uFF0C\u9AD8\u4F18\u5148\u7EA7\u914D\u7F6E\u4F1A\u8986\u76D6\u4F4E\u4F18\u5148\u7EA7\u914D\u7F6E\u3002",paraId:2,tocIndex:1},{value:"\u5B57\u6BB5\u7EA7\u914D\u7F6E > \u5168\u5C40\u914D\u7F6E",paraId:3,tocIndex:2},{value:"\u52A8\u6001\u53C2\u6570 > \u9759\u6001\u53C2\u6570",paraId:3,tocIndex:2},{value:"\u65B9\u6CD5\u53C2\u6570 > \u9ED8\u8BA4\u914D\u7F6E",paraId:3,tocIndex:2},{value:`// \u5B57\u6BB5\u914D\u7F6E\u8986\u76D6\u5168\u5C40\u914D\u7F6E\u6848\u4F8B
{
  "x-request": {
    baseURL: '/api/v2', // \u8986\u76D6\u5168\u5C40\u914D\u7F6E\u7684baseURL
    onError: (err) => {
      // \u5B57\u6BB5\u7EA7\u9519\u8BEF\u5904\u7406\u4F18\u5148
    }
  }
}
`,paraId:4,tocIndex:3}]},3136:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(33349);const m=[{value:"2025-03-24",paraId:0,tocIndex:1},{value:"\u6B64\u7248\u672C\u5305\u542B\u91CD\u5927\u67B6\u6784\u5347\u7EA7\uFF0C\u5F15\u5165\u5168\u65B0\u7684\u751F\u547D\u5468\u671F\u673A\u5236\uFF0C\u63D0\u4F9B\u66F4\u5F3A\u5927\u7684\u8C03\u8BD5\u80FD\u529B\u3002\u540C\u65F6\u91CD\u6784\u4E86\u6587\u6863\u7AD9\u70B9\uFF0C\u63D0\u4F9B\u5B8C\u6574\u7684\u6280\u672F\u751F\u6001\u4F53\u7CFB\u8BF4\u660E\u3002",paraId:1,tocIndex:1},{value:"\u79FB\u9664 ",paraId:2,tocIndex:2},{value:"updateRequest",paraId:2,tocIndex:2},{value:` \u7684\u5185\u7F6E\u9632\u6296\u673A\u5236
`,paraId:2,tocIndex:2},{value:"\u5F71\u54CD\uFF1A\u6240\u6709\u4F7F\u7528 ",paraId:3,tocIndex:2},{value:"updateRequest",paraId:3,tocIndex:2},{value:" \u8FDB\u884C\u8BF7\u6C42\u66F4\u65B0\u7684\u573A\u666F",paraId:3,tocIndex:2},{value:"\u8FC1\u79FB\uFF1A\u73B0\u5728\u9700\u8981\u624B\u52A8\u914D\u7F6E ",paraId:3,tocIndex:2},{value:"debounce",paraId:3,tocIndex:2},{value:" \u53C2\u6570\u6765\u5B9E\u73B0\u9632\u6296\uFF0C\u5177\u4F53\u53EF\u53C2\u8003",paraId:3,tocIndex:2},{value:"\u9632\u6296\u4F18\u5316",paraId:4,tocIndex:2},{value:"\u5168\u5C40\u914D\u7F6E ",paraId:2,tocIndex:2},{value:"onError",paraId:2,tocIndex:2},{value:" \u66F4\u540D\u4E3A ",paraId:2,tocIndex:2},{value:"onLog",paraId:2,tocIndex:2},{value:"\u5F71\u54CD\uFF1A\u4F7F\u7528\u4E86\u5168\u5C40\u9519\u8BEF\u5904\u7406\u7684\u5E94\u7528",paraId:5,tocIndex:2},{value:"\u8FC1\u79FB\uFF1A\u5C06 ",paraId:5,tocIndex:2},{value:"onError",paraId:5,tocIndex:2},{value:" \u66FF\u6362\u4E3A ",paraId:5,tocIndex:2},{value:"onLog",paraId:5,tocIndex:2},{value:"\uFF0C\u652F\u6301\u66F4\u5168\u9762\u7684\u65E5\u5FD7\u7EA7\u522B",paraId:5,tocIndex:2},{value:"\u5E9F\u5F03 ",paraId:2,tocIndex:2},{value:"staticParams",paraId:2,tocIndex:2},{value:` \u914D\u7F6E\u9879
`,paraId:2,tocIndex:2},{value:"\u5F71\u54CD\uFF1A\u4F7F\u7528 ",paraId:6,tocIndex:2},{value:"staticParams",paraId:6,tocIndex:2},{value:" \u4F20\u9012\u9759\u6001\u53C2\u6570\u7684\u573A\u666F",paraId:6,tocIndex:2},{value:"\u8FC1\u79FB\uFF1A\u4F7F\u7528\u65B0\u7684 ",paraId:6,tocIndex:2},{value:"params",paraId:6,tocIndex:2},{value:" \u914D\u7F6E\u9879\u66FF\u4EE3\uFF0C\u652F\u6301\u52A8\u6001\u53C2\u6570\u6CE8\u5165",paraId:6,tocIndex:2},{value:"\u4E3B\u52A8\u8BF7\u6C42\u80FD\u529B",paraId:7,tocIndex:3},{value:"\u65B0\u589E ",paraId:8,tocIndex:3},{value:"reloadRequest",paraId:8,tocIndex:3},{value:" API",paraId:8,tocIndex:3},{value:"\u652F\u6301\u5728\u4EFB\u610F\u65F6\u523B\u4E3B\u52A8\u89E6\u53D1\u63A5\u53E3\u8BF7\u6C42",paraId:8,tocIndex:3},{value:"\u63D0\u4F9B\u5B8C\u6574\u7684\u8BF7\u6C42\u751F\u547D\u5468\u671F\u7BA1\u7406",paraId:8,tocIndex:3},{value:"\u54CD\u5E94\u5F0F\u63A7\u5236",paraId:9,tocIndex:3},{value:"\u65B0\u589E ",paraId:10,tocIndex:3},{value:"disabledReactive",paraId:10,tocIndex:3},{value:" \u914D\u7F6E",paraId:10,tocIndex:3},{value:"\u652F\u6301\u6309\u9700\u7981\u7528\u54CD\u5E94\u5F0F\u66F4\u65B0",paraId:10,tocIndex:3},{value:"\u4F18\u5316\u9AD8\u9891\u66F4\u65B0\u573A\u666F\u7684\u6027\u80FD",paraId:10,tocIndex:3},{value:"\u8C03\u8BD5\u4F53\u9A8C\u4F18\u5316",paraId:11,tocIndex:4},{value:"\u589E\u5F3A ",paraId:12,tocIndex:4},{value:"debug",paraId:12,tocIndex:4},{value:" \u65E5\u5FD7\u7CFB\u7EDF",paraId:12,tocIndex:4},{value:"\u63D0\u4F9B\u66F4\u8BE6\u7EC6\u7684\u8FD0\u884C\u65F6\u4FE1\u606F",paraId:12,tocIndex:4},{value:"\u652F\u6301\u63D2\u4EF6\u8FD0\u884C\u72B6\u6001\u5B9E\u65F6\u76D1\u63A7",paraId:12,tocIndex:4},{value:"\u6587\u6863\u7CFB\u7EDF\u5347\u7EA7",paraId:13,tocIndex:4},{value:"\u5168\u65B0\u7684\u6280\u672F\u6587\u6863\u7AD9\u70B9",paraId:14,tocIndex:4},{value:"\u63D0\u4F9B\u5B8C\u6574\u7684 API \u53C2\u8003",paraId:14,tocIndex:4},{value:"\u4E30\u5BCC\u7684\u6700\u4F73\u5B9E\u8DF5\u793A\u4F8B",paraId:14,tocIndex:4},{value:"\u5148\u79FB\u9664\u5DF2\u5E9F\u5F03\u7684 API \u4F7F\u7528",paraId:15,tocIndex:5},{value:"\u66F4\u65B0\u9519\u8BEF\u5904\u7406\u914D\u7F6E",paraId:15,tocIndex:5},{value:"\u6309\u9700\u6DFB\u52A0\u9632\u6296\u5904\u7406",paraId:15,tocIndex:5},{value:"\u6D4B\u8BD5\u6240\u6709\u8868\u5355\u63D0\u4EA4\u6D41\u7A0B",paraId:15,tocIndex:5}]},77921:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(41322);const m=[{value:"\u4F7F\u7528 ",paraId:0,tocIndex:1},{value:"service",paraId:0,tocIndex:1},{value:" \u914D\u7F6E\uFF0C\u53EF\u4EE5\u81EA\u5B9A\u4E49\u8BF7\u6C42\u7684\u65B9\u5F0F\uFF0C\u6BD4\u8F83\u9002\u5408\u6709\u81EA\u5B9A\u4E49\u9700\u6C42\u7684\u573A\u666F\u3002api \u4ECB\u7ECD\u89C1\uFF1A",paraId:0,tocIndex:1},{value:"service",paraId:1,tocIndex:1},{value:"\u4F7F\u7528 ",paraId:2,tocIndex:4},{value:"customService",paraId:2,tocIndex:4},{value:" \u914D\u7F6E\uFF0C\u53EF\u4EE5\u81EA\u5B9A\u4E49\u8BF7\u6C42\u7684\u65B9\u5F0F\uFF0C\u6BD4\u8F83\u9002\u5408\u6709\u81EA\u5B9A\u4E49\u9700\u6C42\u7684\u573A\u666F\u3002api \u4ECB\u7ECD\u89C1\uFF1A",paraId:2,tocIndex:4},{value:"customService",paraId:3,tocIndex:4},{value:"\u3002",paraId:2,tocIndex:4},{value:"\u4E0E ",paraId:4,tocIndex:4},{value:"service",paraId:4,tocIndex:4},{value:" \u4E0D\u540C\u7684\u662F\uFF0C\u901A\u8FC7 customService \u914D\u7F6E\u7684\u8BF7\u6C42\uFF0C\u5185\u90E8\u4F7F\u7528\u7684\u90FD\u662F ",paraId:4,tocIndex:4},{value:"x-request",paraId:4,tocIndex:4},{value:" \u7684\u914D\u7F6E\u3002\u5F53\u4F60\u65E2\u8981\u81EA\u5B9A\u4E49\u8BF7\u6C42\uFF0C\u53C8\u8981\u4F7F\u7528 ",paraId:4,tocIndex:4},{value:"x-request",paraId:4,tocIndex:4},{value:" \u914D\u7F6E\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u8BE5\u914D\u7F6E\u3002",paraId:4,tocIndex:4}]},30184:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(73628);const m=[{value:"formily-request \u53EF\u4EE5\u88AB\u7528\u5728\u4EFB\u610F\u9700\u8981\u52A8\u6001\u6570\u636E\u7684\u7EC4\u4EF6\u4E2D\uFF0C\u4F8B\u5982\uFF1ASelect\u3001Radio\u3001Checkbox\u3001Table\u3001ArrayItem\u3001Cascader \u7B49\u3002",paraId:0,tocIndex:0}]},57482:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(73498);const m=[{value:"format",paraId:0,tocIndex:2},{value:" \u5C5E\u6027\u7528\u4E8E\u5BF9\u63A5\u53E3\u8FD4\u56DE\u7684\u6570\u636E\u8FDB\u884C\u8F6C\u6362\uFF0C\u4F7F\u5176\u7B26\u5408\u7EC4\u4EF6\u7684\u6570\u636E\u7ED3\u6784\u8981\u6C42\u3002\u5728 Select \u7EC4\u4EF6\u4E2D\uFF0C\u901A\u5E38\u9700\u8981\u5C06\u540E\u7AEF\u8FD4\u56DE\u7684\u6570\u636E\u8F6C\u6362\u4E3A ",paraId:0,tocIndex:2},{value:"{ label, value }",paraId:0,tocIndex:2},{value:" \u683C\u5F0F\u7684\u9009\u9879\u6570\u7EC4\u3002",paraId:0,tocIndex:2},{value:"\u5F53\u4F7F\u7528 antd \u7EC4\u4EF6\u5E93\u7684 Select \u7EC4\u4EF6\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7 ",paraId:1,tocIndex:3},{value:"fieldNames",paraId:1,tocIndex:3},{value:" \u5C5E\u6027\u6765\u7B80\u5316\u6570\u636E\u8F6C\u6362\u8FC7\u7A0B\u3002\u8FD9\u6837\u53EF\u4EE5\u76F4\u63A5\u6307\u5B9A\u540E\u7AEF\u8FD4\u56DE\u6570\u636E\u4E2D\u7684\u5B57\u6BB5\u6620\u5C04\uFF0C\u800C\u65E0\u9700\u7F16\u5199\u590D\u6742\u7684 format \u8868\u8FBE\u5F0F\u3002",paraId:1,tocIndex:3},{value:"ready",paraId:2,tocIndex:5},{value:" \u5C5E\u6027\u7528\u4E8E\u63A7\u5236\u8BF7\u6C42\u7684\u89E6\u53D1\u65F6\u673A\u3002\u5F53 ",paraId:2,tocIndex:5},{value:"ready",paraId:2,tocIndex:5},{value:" \u4E3A ",paraId:2,tocIndex:5},{value:"false",paraId:2,tocIndex:5},{value:" \u65F6\uFF0C\u7EC4\u4EF6\u4E0D\u4F1A\u53D1\u8D77\u6570\u636E\u8BF7\u6C42\u3002\u8FD9\u5728\u5904\u7406\u5177\u6709\u4F9D\u8D56\u5173\u7CFB\u7684\u8868\u5355\u5B57\u6BB5\u65F6\u7279\u522B\u6709\u7528\u3002",paraId:2,tocIndex:5},{value:"\u5728",paraId:3},{value:"\u7701\u5E02\u533A\u8054\u52A8",paraId:4},{value:"\u793A\u4F8B\u4E2D\uFF0C\u5E02\u533A\u6570\u636E\u7684\u8BF7\u6C42\u4F9D\u8D56\u4E8E\u7701\u4EFD\u7684\u9009\u62E9\u3002\u901A\u8FC7 ",paraId:3},{value:"ready",paraId:3},{value:" \u5C5E\u6027\uFF0C\u6211\u4EEC\u53EF\u4EE5\u786E\u4FDD\u53EA\u6709\u5728\u9009\u62E9\u4E86\u7701\u4EFD\u540E\u624D\u4F1A\u8BF7\u6C42\u5BF9\u5E94\u7684\u5E02\u533A\u6570\u636E\uFF0C\u907F\u514D\u65E0\u6548\u7684\u8BF7\u6C42\u3002",paraId:3},{value:"mountLoad",paraId:5,tocIndex:6},{value:" \u5C5E\u6027\u63A7\u5236\u7EC4\u4EF6\u5728\u6302\u8F7D\u65F6\u662F\u5426\u81EA\u52A8\u52A0\u8F7D\u6570\u636E\u3002\u901A\u8FC7\u8BBE\u7F6E ",paraId:5,tocIndex:6},{value:"mountLoad",paraId:5,tocIndex:6},{value:"\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u66F4\u7075\u6D3B\u7684\u6570\u636E\u52A0\u8F7D\u7B56\u7565\u3002",paraId:5,tocIndex:6},{value:"\u5728\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u7EC4\u4EF6\u4F1A\u81EA\u52A8\u54CD\u5E94\u4F9D\u8D56\u9879\u7684\u53D8\u5316\u5E76\u66F4\u65B0\u6570\u636E\u3002\u4F8B\u5982\uFF0C\u5F53\u8F93\u5165\u6846\u7684\u503C\u53D1\u751F\u53D8\u5316\u65F6\uFF0CRadio \u7EC4\u4EF6\u4F1A\u81EA\u52A8\u53D1\u8D77\u8BF7\u6C42\u83B7\u53D6\u65B0\u7684\u9009\u9879\u6570\u636E\u3002",paraId:6,tocIndex:10},{value:"\u5728\u67D0\u4E9B\u573A\u666F\u4E0B\uFF0C\u6211\u4EEC\u9700\u8981\u4E3B\u52A8\u63A7\u5236\u6570\u636E\u7684\u66F4\u65B0\u65F6\u673A\uFF0Cformily-request \u63D0\u4F9B\u4E86\u4E24\u79CD\u4E3B\u52A8\u66F4\u65B0\u7684\u65B9\u5F0F\uFF1A",paraId:7,tocIndex:11},{value:"reloadRequest",paraId:7,tocIndex:11},{value:" \u548C ",paraId:7,tocIndex:11},{value:"updateRequest",paraId:7,tocIndex:11},{value:"\u3002",paraId:7,tocIndex:11},{value:"reloadRequest",paraId:8,tocIndex:12},{value:" \u65B9\u6CD5\u7528\u4E8E\u5728\u7279\u5B9A\u65F6\u673A\u91CD\u65B0\u89E6\u53D1\u63A5\u53E3\u8BF7\u6C42\uFF0C\u4F7F\u7528\u5F53\u524D\u7684\u8BF7\u6C42\u53C2\u6570\u91CD\u65B0\u83B7\u53D6\u6570\u636E\u3002\u8FD9\u5728\u4EE5\u4E0B\u573A\u666F\u7279\u522B\u6709\u7528\uFF1A",paraId:8,tocIndex:12},{value:"\u4E0B\u62C9\u6846\u5C55\u5F00\u65F6\u5237\u65B0\u9009\u9879\u6570\u636E",paraId:9,tocIndex:12},{value:"\u7528\u6237\u624B\u52A8\u89E6\u53D1\u6570\u636E\u5237\u65B0",paraId:9,tocIndex:12},{value:"\u9700\u8981\u5B9A\u65F6\u66F4\u65B0\u6570\u636E",paraId:9,tocIndex:12},{value:"updateRequest",paraId:10,tocIndex:13},{value:" \u65B9\u6CD5\u4E0D\u4EC5\u4F1A\u89E6\u53D1\u63A5\u53E3\u8BF7\u6C42\uFF0C\u8FD8\u5141\u8BB8\u5728\u8BF7\u6C42\u524D\u66F4\u65B0\u8BF7\u6C42\u53C2\u6570\u3002\u8FD9\u5728\u4EE5\u4E0B\u573A\u666F\u7279\u522B\u6709\u7528\uFF1A",paraId:10,tocIndex:13},{value:"\u5B9E\u73B0\u641C\u7D22\u5EFA\u8BAE\u529F\u80FD",paraId:11,tocIndex:13},{value:"\u52A8\u6001\u66F4\u65B0\u7B5B\u9009\u6761\u4EF6",paraId:11,tocIndex:13},{value:"\u6839\u636E\u7528\u6237\u4EA4\u4E92\u66F4\u65B0\u8BF7\u6C42\u53C2\u6570",paraId:11,tocIndex:13},{value:"\u5728\u641C\u7D22\u8F93\u5165\u7B49\u573A\u666F\u4E2D\uFF0C\u4E3A\u4E86\u907F\u514D\u9891\u7E41\u7684\u8BF7\u6C42\uFF0C\u53EF\u4EE5\u4F7F\u7528 ",paraId:12,tocIndex:14},{value:"debounce",paraId:12,tocIndex:14},{value:" \u65B9\u6CD5\u6765\u5B9E\u73B0\u9632\u6296\u3002\u8FD9\u6837\u53EF\u4EE5\u5728\u7528\u6237\u8F93\u5165\u8FC7\u7A0B\u4E2D\u51CF\u5C11\u4E0D\u5FC5\u8981\u7684\u8BF7\u6C42\uFF0C\u63D0\u9AD8\u6027\u80FD\u548C\u7528\u6237\u4F53\u9A8C\u3002",paraId:12,tocIndex:14},{value:"disabledReactive",paraId:13,tocIndex:15},{value:" \u5C5E\u6027\u7528\u4E8E\u63A7\u5236\u7EC4\u4EF6\u7684\u54CD\u5E94\u5F0F\u66F4\u65B0\u884C\u4E3A\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF08",paraId:13,tocIndex:15},{value:"false",paraId:13,tocIndex:15},{value:"\uFF09\uFF0C\u7EC4\u4EF6\u4F1A\u54CD\u5E94\u4F9D\u8D56\u9879\u7684\u53D8\u5316\u5E76\u81EA\u52A8\u66F4\u65B0\u6570\u636E\u3002\u8BBE\u7F6E\u4E3A ",paraId:13,tocIndex:15},{value:"true",paraId:13,tocIndex:15},{value:" \u65F6\uFF0C\u5C06\u7981\u7528\u8FD9\u79CD\u81EA\u52A8\u66F4\u65B0\u673A\u5236\u3002",paraId:13,tocIndex:15},{value:"\u5728\u5904\u7406\u590D\u6742\u7684\u8868\u5355\u4F9D\u8D56\u5173\u7CFB\u65F6\uFF0C\u5408\u7406\u4F7F\u7528 ",paraId:14},{value:"disabledReactive",paraId:14},{value:" \u53EF\u4EE5\u4F18\u5316\u7528\u6237\u4F53\u9A8C\u3002\u4F8B\u5982\uFF0C\u5728\u6570\u636E\u5E93\u8868\u9009\u62E9\u7684\u573A\u666F\u4E2D\uFF1A",paraId:14},{value:"\u5E93\u540D\u4E0B\u62C9\u5217\u8868\u4F9D\u8D56\u7528\u6237\u540D\u548C\u5BC6\u7801\u4F5C\u4E3A\u8BF7\u6C42\u53C2\u6570",paraId:15},{value:"\u8868\u540D\u4E0B\u62C9\u5217\u8868\u4F9D\u8D56\u6240\u9009\u5E93\u540D",paraId:15},{value:"\u4E3A\u907F\u514D\u7528\u6237\u8F93\u5165\u8FC7\u7A0B\u4E2D\u9891\u7E41\u89E6\u53D1\u8BF7\u6C42\uFF0C\u53EF\u4EE5\u8BBE\u7F6E ",paraId:15},{value:"disabledReactive: true",paraId:15},{value:"\u8FD9\u6837\uFF0C\u53EA\u6709\u5728\u7528\u6237\u4E3B\u52A8\u70B9\u51FB\u5C55\u5F00\u4E0B\u62C9\u5217\u8868\u65F6\u624D\u4F1A\u53D1\u8D77\u8BF7\u6C42",paraId:15}]},27863:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(75146);const m=[{value:"formily-request \u63D0\u4F9B\u4E86\u5B8C\u5584\u7684\u9519\u8BEF\u5904\u7406\u673A\u5236\uFF0C\u901A\u8FC7 ",paraId:0,tocIndex:0},{value:"onError",paraId:0,tocIndex:0},{value:" \u548C ",paraId:0,tocIndex:0},{value:"onLog",paraId:0,tocIndex:0},{value:" \u56DE\u8C03\u51FD\u6570\uFF0C\u53EF\u4EE5\u6709\u6548\u5730\u6355\u83B7\u548C\u5904\u7406\u5404\u7C7B\u5F02\u5E38\u60C5\u51B5\u3002\u672C\u6587\u5C06\u8BE6\u7EC6\u4ECB\u7ECD\u9519\u8BEF\u5904\u7406\u7684\u6700\u4F73\u5B9E\u8DF5\u3002",paraId:0,tocIndex:0},{value:"\u5728\u4F7F\u7528 formily-request \u65F6\uFF0C\u53EF\u80FD\u9047\u5230\u4EE5\u4E0B\u51E0\u7C7B\u9519\u8BEF\uFF1A",paraId:1,tocIndex:1},{value:"\u4E0B\u65B9\u793A\u4F8B\u90FD\u4F1A\u4F7F\u7528 ",paraId:2},{value:"onLog",paraId:2},{value:" \u5728 \u5F00\u53D1\u8005\u5DE5\u5177 \u4E2D\u8F93\u51FA\u4E00\u4E9B\u65E5\u5FD7\u3001\u9519\u8BEF\u4FE1\u606F\u3002",paraId:2},{value:`
\u4E3A\u4E86\u66F4\u597D\u7684\u4F53\u9A8C\uFF0C\u5EFA\u8BAE\u5927\u5BB6\u5728\u67E5\u770B\u793A\u4F8B\u65F6\uFF0C\u70B9\u51FB `,paraId:2},{value:"\u5C55\u5F00\u4EE3\u7801",paraId:2},{value:" \u5DE6\u4FA7\u7684 ",paraId:2},{value:"\u5728\u72EC\u7ACB\u9875\u9762\u4E2D\u6253\u5F00",paraId:2},{value:`\uFF0C\u5E76\u5728\u63A7\u5236\u53F0\u4E2D\u67E5\u770B\u9519\u8BEF\u4FE1\u606F\u3002
`,paraId:2},{value:"\u8BF7\u6C42\u9519\u8BEF\u4E3B\u8981\u53D1\u751F\u5728\u63A5\u53E3\u8C03\u7528\u9636\u6BB5\uFF0C\u5E38\u89C1\u60C5\u51B5\u5305\u62EC\uFF1A",paraId:3,tocIndex:2},{value:"\u63A5\u53E3\u5730\u5740\u914D\u7F6E\u9519\u8BEF\uFF08404\uFF09",paraId:4,tocIndex:2},{value:"\u63A5\u53E3\u8FD4\u56DE\u975E 200 \u72B6\u6001\u7801\uFF08401\uFF09",paraId:4,tocIndex:2},{value:"\u7F51\u7EDC\u8FDE\u63A5\u8D85\u65F6",paraId:4,tocIndex:2},{value:`{
  'x-request': {
    url: '/api/error-url', // \u9519\u8BEF\u7684\u8BF7\u6C42\u5730\u5740
    onError: '{{ error => $self.selfErrors = error.message }}'
  }
}
`,paraId:5,tocIndex:2},{value:"\u683C\u5F0F\u5316\u9519\u8BEF\u53D1\u751F\u5728 ",paraId:6,tocIndex:3},{value:"format",paraId:6,tocIndex:3},{value:" \u51FD\u6570\u6267\u884C\u9636\u6BB5\uFF0C\u4E3B\u8981\u5305\u62EC\uFF1A",paraId:6,tocIndex:3},{value:"\u7C7B\u578B\u9519\u8BEF\uFF1Aformat \u914D\u7F6E\u4E86\u975E\u51FD\u6570\u7C7B\u578B",paraId:7,tocIndex:3},{value:"\u8FD4\u56DE\u503C\u9519\u8BEF\uFF1Aformat \u51FD\u6570\u8FD4\u56DE\u975E\u6570\u7EC4\u7C7B\u578B",paraId:7,tocIndex:3},{value:"\u8BED\u6CD5\u9519\u8BEF\uFF1Aformat \u51FD\u6570\u5185\u90E8\u5B58\u5728\u8BED\u6CD5\u9519\u8BEF",paraId:7,tocIndex:3},{value:`{
  'x-request': {
    format: '{{ 123 }}', // \u7C7B\u578B\u9519\u8BEF
    format: '{{ () => undefined }}', // \u8FD4\u56DE\u503C\u9519\u8BEF
    format: '{{ (res) => ress?.data || [] }}', // \u8BED\u6CD5\u9519\u8BEF
  }
}
`,paraId:8,tocIndex:3},{value:`{
  'x-request': {
    url: '/api/user',
    onError: error => {
      // \u8BBE\u7F6E\u5B57\u6BB5\u9519\u8BEF\u4FE1\u606F
      $self.selfErrors = error.message
      // \u53EF\u4EE5\u540C\u65F6\u89E6\u53D1\u5176\u4ED6\u64CD\u4F5C
      console.error('\u5B57\u6BB5\u8BF7\u6C42\u9519\u8BEF:', error)
    }
  }
}
`,paraId:9,tocIndex:5},{value:`import { registerRequest } from 'formily-request';

registerRequest({
  onLog: (level, message, error) => {
    if (level === 'ERROR') {
      // \u9519\u8BEF\u4E0A\u62A5
      // error.cause \u53EF\u4EE5\u83B7\u53D6\u5230\u5177\u4F53\u7684\u9519\u8BEF\u4FE1\u606F
      reportError({ level, message, error });
    }
  },
});
`,paraId:10,tocIndex:6},{value:"\u5728\u67D0\u4E9B\u573A\u666F\u4E0B\uFF0C\u9700\u8981\u5728\u8BF7\u6C42\u6210\u529F\u540E\u6E05\u9664\u4E4B\u524D\u7684\u9519\u8BEF\u4FE1\u606F\uFF1A",paraId:11,tocIndex:7},{value:`{
  'x-request': {
    url: '/api/user',
    onSuccess: '{{ () => $self.selfErrors = "" }}',
    onError: '{{ error => $self.selfErrors = error.message }}'
  }
}
`,paraId:12,tocIndex:7},{value:"\u5BF9\u4E8E\u8868\u8FBE\u5F0F\u7F16\u8BD1\u9519\u8BEF\uFF08\u5982\u5728 ",paraId:13,tocIndex:8},{value:"{{}}",paraId:13,tocIndex:8},{value:" \u4E2D\u4F7F\u7528\u672A\u5B9A\u4E49\u53D8\u91CF\uFF09\uFF0C\u9700\u8981\u901A\u8FC7\u6CE8\u518C\u81EA\u5B9A\u4E49 compiler \u6765\u6355\u83B7\uFF1A",paraId:13,tocIndex:8},{value:`import { registerRequest } from 'formily-request';
import { Schema } from '@formily/react';

Schema.registerCompiler((expression, scope) => {
  try {
    return Schema.compile(expression, scope);
  } catch (error) {
    console.error('\u8868\u8FBE\u5F0F\u7F16\u8BD1\u9519\u8BEF:', error);
    return undefined;
  }
});
`,paraId:14,tocIndex:8},{value:"\u5F00\u542F debug \u6A21\u5F0F\uFF0C\u67E5\u770B\u8BE6\u7EC6\u65E5\u5FD7\uFF1A",paraId:15,tocIndex:9},{value:`{
  'x-request': {
    url: '/api/user',
    debug: true // \u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F
  }
}
`,paraId:16,tocIndex:9},{value:"\u4F7F\u7528 onLog \u8BB0\u5F55\u5173\u952E\u4FE1\u606F\uFF1A",paraId:17,tocIndex:9},{value:`registerRequest({
  debug: true,
  onLog: (level, message, error) => {
    console.log(\`[\${level}] \${message}\`, error);
  },
});
`,paraId:18,tocIndex:9},{value:"\u65E5\u5FD7\u7684\u8F93\u51FA\u683C\u5F0F\u5982\u4E0B\uFF1A",paraId:19,tocIndex:9},{value:`[<timestamp>][<key><field-path>][level]:<message>
`,paraId:20,tocIndex:9},{value:`# timestamp: \u65E5\u5FD7\u8BB0\u5F55\u7684\u65F6\u95F4\u6233
# key: \u914D\u7F6E\u5B57\u6BB5\uFF0C\u901A\u5E38\u4E3A 'x-request'
# field-path: \u5B57\u6BB5\u7684\u8DEF\u5F84
# level: \u65E5\u5FD7\u7EA7\u522B\uFF0C\u5982 'INFO'\u3001'ERROR'
# message: \u65E5\u5FD7\u7684\u5177\u4F53\u4FE1\u606F

# \u793A\u4F8B\uFF1A
[2025/01/01 00:00:00][x-request:demos.error.compile_error_format][INFO]:\u7EC4\u4EF6\u5DF2\u6302\u8F7D {"lifecycle":"MOUNTED"}
`,paraId:21,tocIndex:9}]},90500:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(67610);const m=[]},16753:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(52935);const m=[{value:"formily-request \u91C7\u7528\u5355\u4F8B\u6A21\u5F0F\u548C\u63D2\u4EF6\u5316\u8BBE\u8BA1\uFF0C\u901A\u8FC7\u6269\u5C55 JSON Schema \u5B9E\u73B0\u5F02\u6B65\u6570\u636E\u8BF7\u6C42\u7684\u914D\u7F6E\u80FD\u529B\u3002\u6574\u4F53\u67B6\u6784\u5982\u4E0B\uFF1A",paraId:0,tocIndex:1},{value:"formily-request \u901A\u8FC7 ",paraId:1,tocIndex:3},{value:"registerPatches",paraId:1,tocIndex:3},{value:" \u65B9\u6CD5\u6269\u5C55 JSON Schema\uFF0C\u5C06 ",paraId:1,tocIndex:3},{value:"x-request",paraId:1,tocIndex:3},{value:" \u914D\u7F6E\u8F6C\u6362\u4E3A\u54CD\u5E94\u5F0F\u5BF9\u8C61\u3002\u6CE8\u518C\u8FC7\u7A0B\u5305\u542B\u4EE5\u4E0B\u6B65\u9AA4\uFF1A",paraId:1,tocIndex:3},{value:"\u68C0\u67E5\u5B57\u6BB5\u914D\u7F6E\u4E2D\u662F\u5426\u5B58\u5728 ",paraId:2,tocIndex:3},{value:"x-request",paraId:2,tocIndex:3},{value:"\u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61\u548C\u751F\u547D\u5468\u671F\u7F13\u5B58",paraId:2,tocIndex:3},{value:"\u6CE8\u518C\u5B57\u6BB5\u53CD\u5E94\u5668\uFF08reaction\uFF09",paraId:2,tocIndex:3},{value:"\u6807\u8BB0\u6CE8\u518C\u72B6\u6001\uFF0C\u907F\u514D\u91CD\u590D\u6CE8\u518C",paraId:2,tocIndex:3},{value:`Schema.registerPatches((schema) => {
  const x_request = schema[this.key];
  if (typeof x_request === 'object' && !schema[flag]) {
    const caches = { lifecycle: Lifecycle.INIT, dispose: null };
    const reaction = this.createReaction(x_request, globalConfig, caches);
    schema['x-reactions'] = [reaction];
    schema[flag] = true;
  }
  return schema;
});
`,paraId:3,tocIndex:3},{value:"\u63D2\u4EF6\u4F7F\u7528 ",paraId:4,tocIndex:4},{value:"@formily/reactive",paraId:4,tocIndex:4},{value:" \u5B9E\u73B0\u54CD\u5E94\u5F0F\u66F4\u65B0\u673A\u5236\uFF0C\u4E3B\u8981\u5305\u542B\u4E09\u4E2A\u6838\u5FC3\u64CD\u4F5C\uFF1A",paraId:4,tocIndex:4},{value:"\u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61",paraId:5,tocIndex:4},{value:"\uFF1A\u4F7F\u7528 ",paraId:5,tocIndex:4},{value:"observable",paraId:5,tocIndex:4},{value:" \u5C06\u8BF7\u6C42\u914D\u7F6E\u8F6C\u6362\u4E3A\u53EF\u89C2\u5BDF\u5BF9\u8C61",paraId:5,tocIndex:4},{value:"\u76D1\u542C\u914D\u7F6E\u53D8\u5316",paraId:5,tocIndex:4},{value:"\uFF1A\u901A\u8FC7 ",paraId:5,tocIndex:4},{value:"observe",paraId:5,tocIndex:4},{value:" \u76D1\u542C\u914D\u7F6E\u53D8\u66F4\u5E76\u89E6\u53D1\u8BF7\u6C42",paraId:5,tocIndex:4},{value:"\u6CE8\u5165\u66F4\u65B0\u65B9\u6CD5",paraId:5,tocIndex:4},{value:"\uFF1A\u4E3A\u5B57\u6BB5\u6CE8\u5165 ",paraId:5,tocIndex:4},{value:"updateRequest",paraId:5,tocIndex:4},{value:" \u548C ",paraId:5,tocIndex:4},{value:"reloadRequest",paraId:5,tocIndex:4},{value:" \u65B9\u6CD5",paraId:5,tocIndex:4},{value:`// \u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61
const obs = observable(request);

// \u76D1\u542C\u914D\u7F6E\u53D8\u5316
caches.dispose = observe(obs, () => {
  asyncSetDataSource();
});

// \u6CE8\u5165\u66F4\u65B0\u65B9\u6CD5
field.inject({
  updateRequest: (fn) => fn(obs),
  reloadRequest: () => asyncSetDataSource(),
});
`,paraId:6,tocIndex:4},{value:"\u63D2\u4EF6\u901A\u8FC7\u751F\u547D\u5468\u671F\u679A\u4E3E\u548C\u7F13\u5B58\u673A\u5236\u7BA1\u7406\u7EC4\u4EF6\u72B6\u6001\uFF1A",paraId:7,tocIndex:5},{value:`enum Lifecycle {
  INIT, // \u521D\u59CB\u5316\u9636\u6BB5
  MOUNTED, // \u7EC4\u4EF6\u5DF2\u6302\u8F7D
  UNMOUNT, // \u7EC4\u4EF6\u5DF2\u5378\u8F7D
}

// \u751F\u547D\u5468\u671F\u5904\u7406
if (field.mounted) {
  // \u914D\u7F6E\u53D8\u66F4\u89E6\u53D1\u8BF7\u6C42
  if (caches.lifecycle > Lifecycle.MOUNTED && !disabledReactive) {
    asyncSetDataSource();
  }
  // \u9996\u6B21\u6302\u8F7D\u5904\u7406
  if (caches.lifecycle < Lifecycle.MOUNTED) {
    caches.lifecycle = Lifecycle.MOUNTED;
    if (mountLoad) {
      asyncSetDataSource();
    }
  }
}
`,paraId:8,tocIndex:5},{value:"formily-request \u63D0\u4F9B\u4E86\u591A\u4E2A\u6269\u5C55\u70B9\uFF0C\u5141\u8BB8\u5F00\u53D1\u8005\u81EA\u5B9A\u4E49\u8BF7\u6C42\u884C\u4E3A\uFF1A",paraId:9,tocIndex:6},{value:"service",paraId:10,tocIndex:7},{value:"\uFF1A\u81EA\u5B9A\u4E49\u8BF7\u6C42\u670D\u52A1\uFF0C\u7528\u4E8E\u5904\u7406\u7279\u5B9A\u7684\u8BF7\u6C42\u903B\u8F91",paraId:10,tocIndex:7},{value:`'x-request': {
  service: (params) => fetch('/api/data', { params })
}
`,paraId:11,tocIndex:7},{value:"customService",paraId:12,tocIndex:7},{value:"\uFF1A\u5B8C\u5168\u81EA\u5B9A\u4E49\u8BF7\u6C42\u903B\u8F91\uFF0C\u53EF\u4EE5\u8BBF\u95EE\u5B8C\u6574\u7684\u8BF7\u6C42\u914D\u7F6E",paraId:12,tocIndex:7},{value:`'x-request': {
  customService: (request, globalConfig) => {
    // \u5B8C\u5168\u81EA\u5B9A\u4E49\u7684\u8BF7\u6C42\u903B\u8F91
    return Promise.resolve(data);
  }
}
`,paraId:13,tocIndex:7},{value:"format",paraId:14,tocIndex:8},{value:`\uFF1A\u81EA\u5B9A\u4E49\u6570\u636E\u683C\u5F0F\u5316\uFF0C\u652F\u6301\u5BF9\u8BF7\u6C42\u7ED3\u679C\u8FDB\u884C\u8F6C\u6362
`,paraId:14,tocIndex:8},{value:`'x-request': {
  format: (data) => data.map(item => ({
    label: item.name,
    value: item.id
  }))
}
`,paraId:15,tocIndex:8},{value:"\u63D2\u4EF6\u63D0\u4F9B\u4E86\u591A\u4E2A\u751F\u547D\u5468\u671F\u94A9\u5B50\uFF0C\u7528\u4E8E\u63A7\u5236\u8BF7\u6C42\u884C\u4E3A\u548C\u5904\u7406\u7ED3\u679C\uFF1A",paraId:16,tocIndex:9},{value:"ready",paraId:17,tocIndex:9},{value:"\uFF1A\u63A7\u5236\u8BF7\u6C42\u89E6\u53D1\u6761\u4EF6",paraId:17,tocIndex:9},{value:"mountLoad",paraId:17,tocIndex:9},{value:"\uFF1A\u63A7\u5236\u7EC4\u4EF6\u6302\u8F7D\u65F6\u662F\u5426\u81EA\u52A8\u8BF7\u6C42",paraId:17,tocIndex:9},{value:"onSuccess",paraId:17,tocIndex:9},{value:"\uFF1A\u8BF7\u6C42\u6210\u529F\u7684\u56DE\u8C03\u5904\u7406",paraId:17,tocIndex:9},{value:"onError",paraId:17,tocIndex:9},{value:"\uFF1A\u8BF7\u6C42\u5931\u8D25\u7684\u9519\u8BEF\u5904\u7406",paraId:17,tocIndex:9},{value:`'x-request': {
  ready: (request) => !!request.params.parentId,
  mountLoad: true,
  onSuccess: (result) => console.log('\u8BF7\u6C42\u6210\u529F', result),
  onError: (error) => console.error('\u8BF7\u6C42\u5931\u8D25', error)
}
`,paraId:18,tocIndex:9},{value:"\u8FD9\u4E2A\u6D41\u7A0B\u5B8C\u6574\u5C55\u793A\u4E86\u4ECE\u5B57\u6BB5\u914D\u7F6E\u5230\u6570\u636E\u66F4\u65B0\u7684\u5904\u7406\u8FC7\u7A0B\uFF0C\u5305\u62EC\uFF1A",paraId:19,tocIndex:10},{value:"\u751F\u547D\u5468\u671F\u72B6\u6001\u68C0\u67E5",paraId:20,tocIndex:10},{value:"\u8BF7\u6C42\u6761\u4EF6\u9A8C\u8BC1",paraId:20,tocIndex:10},{value:"\u6570\u636E\u8BF7\u6C42\u548C\u683C\u5F0F\u5316",paraId:20,tocIndex:10},{value:"\u5B57\u6BB5\u72B6\u6001\u66F4\u65B0",paraId:20,tocIndex:10},{value:"\u56DE\u8C03\u51FD\u6570\u5904\u7406",paraId:20,tocIndex:10},{value:"\u901A\u8FC7\u8FD9\u79CD\u8BBE\u8BA1\uFF0Cformily-request \u5B9E\u73B0\u4E86\u7075\u6D3B\u7684\u5F02\u6B65\u6570\u636E\u5904\u7406\u80FD\u529B\uFF0C\u540C\u65F6\u4FDD\u8BC1\u4E86\u6570\u636E\u6D41\u8F6C\u7684\u53EF\u9760\u6027\u548C\u53EF\u6269\u5C55\u6027\u3002",paraId:21,tocIndex:10}]},15447:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(18716);const m=[{value:"formily-request \u63D0\u4F9B\u4E86\u4E00\u5957\u7075\u6D3B\u7684\u914D\u7F6E\u7CFB\u7EDF\uFF0C\u8BA9\u4F60\u80FD\u591F\u8F7B\u677E\u5730\u5904\u7406\u5404\u79CD\u8BF7\u6C42\u573A\u666F\u3002\u4EE5\u4E0B\u662F\u4E00\u4E2A\u57FA\u672C\u7684\u914D\u7F6E\u793A\u4F8B\uFF1A",paraId:0,tocIndex:1},{value:`{
  "x-request": {
    "url": "https://api.example.com/data",
    "method": "POST",
    "params": { "keyword": "" }
  }
}
`,paraId:1,tocIndex:1},{value:"\u8FD9\u4E2A\u7B80\u5355\u7684\u914D\u7F6E\u5C31\u80FD\u6EE1\u8DB3\u5927\u591A\u6570\u7684\u57FA\u7840\u8BF7\u6C42\u573A\u666F\u3002\u5BF9\u4E8E\u66F4\u590D\u6742\u7684\u9700\u6C42\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528\u6570\u636E\u8F6C\u6362\u548C\u6761\u4EF6\u63A7\u5236\u7B49\u9AD8\u7EA7\u7279\u6027\uFF1A",paraId:2,tocIndex:1},{value:`{
  "x-request": {
    "url": "https://api.example.com/data",
    "format": "{{ data => data.map(item => ({ label: item.name, value: item.id })) }}",
    "ready": "{{ !!$form.values.parentId }}"
  }
}
`,paraId:3,tocIndex:1},{value:"\u5B8C\u6574\u7684\u914D\u7F6E\u9879\u8BF4\u660E\u8BF7\u53C2\u8003 ",paraId:4},{value:"API \u6587\u6863",paraId:5},{value:"\u901A\u8FC7 ",paraId:6,tocIndex:2},{value:"fxr.register()",paraId:6,tocIndex:2},{value:" \u65B9\u6CD5\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u5168\u5C40\u914D\u7F6E\uFF0C\u5F71\u54CD\u6240\u6709\u4F7F\u7528 formily-request \u7684\u8868\u5355\u5B57\u6BB5\u3002\u4EE5\u4E0B\u662F\u4E00\u4E9B\u5E38\u89C1\u7684\u914D\u7F6E\u573A\u666F\u548C\u6700\u4F73\u5B9E\u8DF5\u3002",paraId:6,tocIndex:2},{value:"\u8BBE\u7F6E API \u7684\u57FA\u7840 URL\uFF0C\u907F\u514D\u5728\u6BCF\u4E2A\u8BF7\u6C42\u4E2D\u91CD\u590D\u914D\u7F6E\u5B8C\u6574 URL\uFF1A",paraId:7,tocIndex:3},{value:`import fxr from 'formily-request';
import { Schema } from '@formily/react';

fxr.use(Schema).register({
  // \u5168\u5C40\u57FA\u7840URL
  baseURL: 'https://api.example.com',
});

// \u5728 schema \u4E2D\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84
{
  'x-request': {
    url: '/users', // \u5B9E\u9645\u8BF7\u6C42 https://api.example.com/users
  }
}
`,paraId:8,tocIndex:3},{value:"\u5728\u4E0D\u540C\u73AF\u5883\u4E2D\u53EF\u4EE5\u7075\u6D3B\u914D\u7F6E\uFF1A",paraId:9,tocIndex:3},{value:`fxr.register({
  baseURL:
    process.env.NODE_ENV === 'production' ? 'https://api.example.com' : '/api', // \u672C\u5730\u5F00\u53D1\u65F6\u4F7F\u7528\u4EE3\u7406
});
`,paraId:10,tocIndex:3},{value:"\u914D\u7F6E\u8DE8\u57DF\u8BF7\u6C42\u65F6\u7684\u51ED\u8BC1\u548C\u8BF7\u6C42\u5934\u4FE1\u606F\uFF1A",paraId:11,tocIndex:4},{value:`fxr.register({
  // \u8DE8\u57DF\u8BF7\u6C42\u65F6\u662F\u5426\u643A\u5E26\u51ED\u8BC1\uFF08cookies\uFF09
  credentials: 'include', // 'omit' | 'same-origin' | 'include'

  // \u81EA\u5B9A\u4E49\u8BF7\u6C42\u5934
  headers: {
    Authorization: 'Bearer token',
    'X-Custom-Header': 'custom-value',
  },
});
`,paraId:12,tocIndex:4},{value:"\u8FD9\u4E9B\u914D\u7F6E\u4F1A\u5E94\u7528\u5230\u6240\u6709\u8BF7\u6C42\u4E2D\uFF0C\u9002\u7528\u4E8E\u9700\u8981\u7EDF\u4E00\u8BA4\u8BC1\u7684\u573A\u666F\u3002\u4F8B\u5982\uFF0C\u5728\u767B\u5F55\u540E\u8BBE\u7F6E\u5168\u5C40\u8BA4\u8BC1\u4FE1\u606F\uFF1A",paraId:13,tocIndex:4},{value:`const setGlobalAuth = (token) => {
  fxr.register({
    headers: {
      Authorization: \`Bearer \${token}\`,
    },
  });
};
`,paraId:14,tocIndex:4},{value:"\u901A\u8FC7 ",paraId:15,tocIndex:5},{value:"onLog",paraId:15,tocIndex:5},{value:" \u56DE\u8C03\u51FD\u6570\u53EF\u4EE5\u5B9E\u73B0\u5168\u5C40\u7EDF\u4E00\u7684\u9519\u8BEF\u5904\u7406\u673A\u5236\u3002\u4EE5\u4E0B\u662F\u4E00\u4E2A\u5B8C\u6574\u7684\u9519\u8BEF\u5904\u7406\u793A\u4F8B\uFF0C\u5305\u542B\u4E86\u7F51\u7EDC\u9519\u8BEF\u3001\u8BA4\u8BC1\u9519\u8BEF\u548C\u4E1A\u52A1\u9519\u8BEF\u7684\u5904\u7406\uFF1A",paraId:15,tocIndex:5},{value:`fxr.register({
  debug: true, // \u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F
  onLog: (type, message, data) => {
    // type: 'info' | 'error' | 'group' | 'groupEnd'
    if (type === 'error') {
      const error = data;

      // \u7F51\u7EDC\u9519\u8BEF\u5904\u7406
      if (error instanceof TypeError) {
        console.error('\u7F51\u7EDC\u8BF7\u6C42\u9519\u8BEF:', error);
        message.error('\u7F51\u7EDC\u8FDE\u63A5\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8BBE\u7F6E');
        return;
      }

      // HTTP \u72B6\u6001\u7801\u9519\u8BEF\u5904\u7406
      switch (error.status) {
        case 401:
          message.error('\u767B\u5F55\u5DF2\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55');
          router.push('/login');
          break;
        case 403:
          message.error('\u6CA1\u6709\u64CD\u4F5C\u6743\u9650');
          break;
        case 404:
          message.error('\u8BF7\u6C42\u7684\u8D44\u6E90\u4E0D\u5B58\u5728');
          break;
        case 500:
          message.error('\u670D\u52A1\u5668\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5');
          break;
        default:
          message.error(error.message || '\u64CD\u4F5C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5');
      }

      // \u9519\u8BEF\u65E5\u5FD7\u4E0A\u62A5
      errorTracker.captureException(error, {
        extra: {
          type,
          message,
          timestamp: new Date().toISOString(),
        },
      });
    }
  },
});
`,paraId:16,tocIndex:5},{value:"\u901A\u8FC7\u5168\u5C40\u914D\u7F6E\u53EF\u4EE5\u7075\u6D3B\u63A7\u5236\u8C03\u8BD5\u4FE1\u606F\u7684\u8F93\u51FA\uFF1A",paraId:17,tocIndex:6},{value:`fxr.register({
  debug: process.env.NODE_ENV === 'development',
  onLog: (type, message, data) => {
    // \u5F00\u53D1\u73AF\u5883\u4E0B\u6253\u5370\u8BE6\u7EC6\u65E5\u5FD7
    if (process.env.NODE_ENV === 'development') {
      console.group(\`[\${type}] \${message}\`);
      if (data) console.log(data);
      console.groupEnd();
    }

    // \u751F\u4EA7\u73AF\u5883\u4E0B\u53EA\u8BB0\u5F55\u9519\u8BEF\u65E5\u5FD7
    if (process.env.NODE_ENV === 'production' && type === 'error') {
      logger.error(message, data);
    }
  },
});
`,paraId:18,tocIndex:6},{value:"\u901A\u8FC7\u5168\u5C40\u914D\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u4E00\u4E9B\u901A\u7528\u7684\u8BF7\u6C42\u53C2\u6570\uFF0C\u8FD9\u4E9B\u53C2\u6570\u4F1A\u4E0E\u5B57\u6BB5\u914D\u7F6E\u7684\u53C2\u6570\u8FDB\u884C\u5408\u5E76\uFF1A",paraId:19,tocIndex:7},{value:`fxr.register({
  // \u5168\u5C40\u9759\u6001\u53C2\u6570
  params: {
    appId: 'your-app-id',
    version: '1.0.0',
    timestamp: () => new Date().getTime(), // \u52A8\u6001\u53C2\u6570
  },

  // \u8BF7\u6C42\u8D85\u65F6\u8BBE\u7F6E
  timeout: 5000,

  // \u8BF7\u6C42\u683C\u5F0F\u8BBE\u7F6E
  headers: {
    'Content-Type': 'application/json',
    Accept: 'application/json',
  },
});
`,paraId:20,tocIndex:7}]},91097:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(64721);const m=[{value:"formily-request \u63D0\u4F9B\u4E86\u4E24\u79CD\u81EA\u5B9A\u4E49\u4E8B\u4EF6\uFF1A",paraId:0,tocIndex:0},{value:"updateRequest",paraId:0,tocIndex:0},{value:" \u548C ",paraId:0,tocIndex:0},{value:"reloadRequest",paraId:0,tocIndex:0},{value:"\uFF0C\u7528\u4E8E\u5904\u7406\u4E0D\u540C\u7684\u6570\u636E\u66F4\u65B0\u573A\u666F\u3002",paraId:0,tocIndex:0},{value:"updateRequest",paraId:1,tocIndex:1},{value:" \u662F\u4E00\u4E2A\u7528\u4E8E\u66F4\u65B0\u8BF7\u6C42\u914D\u7F6E\u7684\u4E8B\u4EF6\uFF0C\u4E3B\u8981\u7528\u4E8E\u5904\u7406\u6570\u636E\u66F4\u65B0\u573A\u666F\uFF0C\u5982\u641C\u7D22\u6846\u8F93\u5165\u3002\u5B83\u901A\u8FC7 ",paraId:1,tocIndex:1},{value:"field.inject()",paraId:1,tocIndex:1},{value:" \u6CE8\u5165\u3002\u5BF9\u4E8E\u9891\u7E41\u89E6\u53D1\u7684\u573A\u666F\uFF0C\u5EFA\u8BAE\u4F7F\u7528\u5916\u90E8\u9632\u6296\u51FD\u6570\u5305\u88C5\u3002",paraId:1,tocIndex:1},{value:"updateRequest",paraId:2,tocIndex:2},{value:" \u4E8B\u4EF6\u63A5\u6536\u4E00\u4E2A\u56DE\u8C03\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\uFF0C\u8BE5\u51FD\u6570\u53EF\u4EE5\u4FEE\u6539 request \u914D\u7F6E\u7684\u5C5E\u6027\u503C\u3002\u5F53\u5C5E\u6027\u503C\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4F1A\u89E6\u53D1\u54CD\u5E94\u5F0F\u66F4\u65B0\uFF0C\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u3002",paraId:2,tocIndex:2},{value:`$self.invoke("updateRequest", (request: XRequest) => void)
`,paraId:3,tocIndex:2},{value:"Select \u7EC4\u4EF6\u7684\u641C\u7D22\u529F\u80FD\uFF1A",paraId:4,tocIndex:3},{value:`{
  "x-component": "Select",
  "x-component-props": {
    "onSearch": "{{ v => $self.invoke('updateRequest', request => request.params.keyword = v) }}"
  },
  "x-request": {
    "url": "/api/users",
    "params": { "keyword": "" }
  }
}
`,paraId:5,tocIndex:3},{value:"\u81EA\u5B9A\u4E49\u9632\u6296\u65F6\u95F4\uFF1A",paraId:6,tocIndex:3},{value:`{
  "x-component": "Select",
  "x-component-props": {
    "onSearch": "{{ debounce((keyword) => $self.invoke('updateRequest', request => request.params.text = keyword), 500) }}",
    "showSearch": true,
    "filterOption": false
  },
  "x-request": {
    "url": "/api/search",
    "params": { "text": "" }
  }
}
`,paraId:7,tocIndex:3},{value:"reloadRequest",paraId:8,tocIndex:4},{value:" \u662F\u4E00\u4E2A\u7528\u4E8E\u7ACB\u5373\u91CD\u65B0\u52A0\u8F7D\u6570\u636E\u7684\u4E8B\u4EF6\uFF0C\u5B83\u4E0D\u5E26\u9632\u6296\u529F\u80FD\uFF0C\u9002\u7528\u4E8E\u9700\u8981\u7ACB\u5373\u5237\u65B0\u6570\u636E\u7684\u573A\u666F\u3002",paraId:8,tocIndex:4},{value:"reloadRequest",paraId:9,tocIndex:5},{value:" \u4E8B\u4EF6\u4E0D\u63A5\u6536\u53C2\u6570\uFF0C\u76F4\u63A5\u4F7F\u7528\u5F53\u524D\u7684 request \u914D\u7F6E\u91CD\u65B0\u53D1\u8D77\u8BF7\u6C42\u3002\u5B83\u540C\u6837\u901A\u8FC7 ",paraId:9,tocIndex:5},{value:"field.inject()",paraId:9,tocIndex:5},{value:" \u6CE8\u5165\u3002",paraId:9,tocIndex:5},{value:`$self.invoke('reloadRequest');
`,paraId:10,tocIndex:5},{value:"\u8868\u5355\u63D0\u4EA4\u540E\u5237\u65B0\u5217\u8868\uFF1A",paraId:11,tocIndex:6},{value:`{
  "x-component": "Form",
  "x-component-props": {
    "onSubmit": "{{ () => $self.invoke('reloadRequest') }}"
  }
}
`,paraId:12,tocIndex:6},{value:"\u624B\u52A8\u5237\u65B0\u6309\u94AE\uFF1A",paraId:13,tocIndex:6},{value:`{
  "x-component": "Button",
  "x-component-props": {
    "onClick": "{{ () => $self.invoke('reloadRequest') }}",
    "children": "\u5237\u65B0\u6570\u636E"
  }
}
`,paraId:14,tocIndex:6},{value:"\u5BF9\u4E8E\u9891\u7E41\u89E6\u53D1\u7684\u641C\u7D22\u573A\u666F\uFF0C\u4F7F\u7528 ",paraId:15,tocIndex:7},{value:"updateRequest",paraId:15,tocIndex:7},{value:" \u5E76\u5408\u7406\u8BBE\u7F6E\u9632\u6296\u65F6\u95F4",paraId:15,tocIndex:7},{value:"\u5BF9\u4E8E\u9700\u8981\u7ACB\u5373\u5237\u65B0\u6570\u636E\u7684\u573A\u666F\uFF0C\u4F7F\u7528 ",paraId:15,tocIndex:7},{value:"reloadRequest",paraId:15,tocIndex:7},{value:"\u5728\u4F7F\u7528 ",paraId:15,tocIndex:7},{value:"updateRequest",paraId:15,tocIndex:7},{value:" \u65F6\uFF0C\u786E\u4FDD\u56DE\u8C03\u51FD\u6570\u5185\u53EA\u4FEE\u6539\u5FC5\u8981\u7684 request \u5C5E\u6027",paraId:15,tocIndex:7},{value:"\u907F\u514D\u5728\u4E00\u4E2A\u4E8B\u4EF6\u4E2D\u540C\u65F6\u8C03\u7528\u591A\u4E2A request \u66F4\u65B0\u65B9\u6CD5",paraId:15,tocIndex:7}]},15019:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(43668);const m=[{value:"formily-request \u662F\u4E00\u4E2A\u4E13\u6CE8\u4E8E\u914D\u7F6E\u5316\u573A\u666F\u7684\u6570\u636E\u8BF7\u6C42\u89E3\u51B3\u65B9\u6848\u3002\u5B83\u901A\u8FC7\u6269\u5C55 JSON Schema \u914D\u7F6E\uFF0C\u4EE5\u65E0\u4FB5\u5165\u7684\u65B9\u5F0F\u5B9E\u73B0\u63A5\u53E3\u8BF7\u6C42\u548C\u6570\u636E\u8F6C\u6362\uFF0C\u4E3A\u8868\u5355\u7EC4\u4EF6\u7684\u52A8\u6001\u6570\u636E\u83B7\u53D6\u63D0\u4F9B\u4E86\u4E00\u79CD\u4F18\u96C5\u4E14\u9AD8\u6548\u7684\u65B9\u6848\u3002",paraId:0,tocIndex:0},{value:"\u5728\u4F7F\u7528 ",paraId:1,tocIndex:1},{value:"Formily",paraId:1,tocIndex:1},{value:" \u6784\u5EFA\u8868\u5355\u65F6\uFF0C\u6211\u4EEC\u7ECF\u5E38\u9700\u8981\u4E3A Select\u3001Radio\u3001Cascader \u7B49\u7EC4\u4EF6\u5B9E\u73B0\u52A8\u6001\u6570\u636E\u5C55\u793A\u3002\u76EE\u524D\u4E3B\u8981\u6709\u4E24\u79CD\u5B9E\u73B0\u65B9\u5F0F\uFF1A",paraId:1,tocIndex:1},{value:"\u6309\u7167",paraId:2,tocIndex:1},{value:"\u5B98\u65B9\u5EFA\u8BAE",paraId:2,tocIndex:1},{value:"\uFF0C\u901A\u8FC7\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u5B9E\u73B0",paraId:2,tocIndex:1},{value:"\u53C2\u8003 ",paraId:2,tocIndex:1},{value:"Ant Design",paraId:2,tocIndex:1},{value:" \u7684\u65B9\u6848\uFF0C\u4F7F\u7528 ",paraId:2,tocIndex:1},{value:"useAsyncDataSource",paraId:2,tocIndex:1},{value:" \u51FD\u6570\u914D\u5408 ",paraId:2,tocIndex:1},{value:"scope",paraId:2,tocIndex:1},{value:" \u5B9E\u73B0",paraId:2,tocIndex:1},{value:"\u8FD9\u4E9B\u65B9\u6848\u5728\u975E\u914D\u7F6E\u5316\u573A\u666F\u4E2D\u8FD0\u4F5C\u826F\u597D\uFF0C\u4F46\u5728\u914D\u7F6E\u5316\u573A\u666F\u4E0B\u5B58\u5728\u660E\u663E\u5C40\u9650\uFF1A",paraId:3,tocIndex:1},{value:"\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u65B9\u6848\u9700\u8981\u8FDB\u884C\u989D\u5916\u7684\u7EC4\u4EF6\u5F00\u53D1",paraId:4,tocIndex:1},{value:"useAsyncDataSource",paraId:4,tocIndex:1},{value:" \u65B9\u6848\u9700\u8981\u5728\u7CFB\u7EDF\u4E2D\u9884\u5148\u5B9A\u4E49\u6570\u636E\u6E90\u51FD\u6570",paraId:4,tocIndex:1},{value:"\u901A\u8FC7 formily-request\uFF0C\u4F60\u53EF\u4EE5\u76F4\u63A5\u5728 JSON Schema \u4E2D\u914D\u7F6E\u6570\u636E\u8BF7\u6C42\uFF0C\u65E0\u9700\u989D\u5916\u7684\u5F00\u53D1\u5DE5\u4F5C\u3002",paraId:5,tocIndex:1},{value:"\u4EE5\u4E0B\u662F ",paraId:6,tocIndex:1},{value:"\u5B98\u65B9\u793A\u4F8B",paraId:6,tocIndex:1},{value:" vs ",paraId:6,tocIndex:1},{value:"formily-request",paraId:6,tocIndex:1},{value:" \u7684\u6548\u679C\u5BF9\u6BD4\uFF1A",paraId:6,tocIndex:1},{value:"\u65E0\u9700\u4FEE\u6539\u73B0\u6709\u7EC4\u4EF6",paraId:7,tocIndex:3},{value:"\u65E0\u9700\u7F16\u5199\u989D\u5916\u7684\u81EA\u5B9A\u4E49\u7EC4\u4EF6",paraId:7,tocIndex:3},{value:"\u53EF\u4EE5\u4E13\u6CE8\u4E8E\u6570\u636E\u914D\u7F6E\uFF0C\u800C\u4E0D\u662F\u7EC4\u4EF6\u5F00\u53D1",paraId:7,tocIndex:3},{value:"\u652F\u6301 React \u548C Vue \u7B49\u4E3B\u6D41\u6846\u67B6",paraId:8,tocIndex:4},{value:"\u7EDF\u4E00\u7684\u914D\u7F6E\u65B9\u5F0F\uFF0C\u8DE8\u6846\u67B6\u590D\u7528",paraId:8,tocIndex:4},{value:"\u964D\u4F4E\u6846\u67B6\u8FC1\u79FB\u6210\u672C",paraId:8,tocIndex:4},{value:"\u652F\u6301 Ant Design\u3001Element Plus \u7B49\u5404\u7C7B\u7EC4\u4EF6\u5E93",paraId:9,tocIndex:5},{value:"\u7EDF\u4E00\u7684\u6570\u636E\u83B7\u53D6\u65B9\u5F0F",paraId:9,tocIndex:5},{value:"\u63D0\u4F9B\u4E00\u81F4\u7684\u5F00\u53D1\u4F53\u9A8C",paraId:9,tocIndex:5},{value:"\u9002\u7528\u4E8E\u6240\u6709\u9700\u8981\u52A8\u6001\u6570\u636E\u7684\u573A\u666F",paraId:10,tocIndex:6},{value:"\u652F\u6301 Select\u3001Radio\u3001Checkbox\u3001Cascader\u3001Table \u7B49\u7EC4\u4EF6",paraId:10,tocIndex:6},{value:"\u53EF\u81EA\u5B9A\u4E49\u6570\u636E\u8F6C\u6362\u89C4\u5219",paraId:10,tocIndex:6},{value:"\u7075\u6D3B\u7684\u8BF7\u6C42\u914D\u7F6E\u548C\u54CD\u5E94\u5904\u7406",paraId:10,tocIndex:6},{value:"\u5982\u679C\u5728\u4F7F\u7528\u8FC7\u7A0B\u4E2D\u53D1\u73B0\u4EFB\u4F55\u95EE\u9898\u3001\u6216\u8005\u6709\u6539\u5584\u5EFA\u8BAE\uFF0C\u6B22\u8FCE\u5728 ",paraId:11,tocIndex:7},{value:"GitHub Issues",paraId:11,tocIndex:7},{value:" \u8FDB\u884C\u53CD\u9988\u3002\u6211\u4EEC\u5C06\u8BA4\u771F\u5BF9\u5F85\u6BCF\u4E00\u4E2A\u53CD\u9988\uFF0C\u6301\u7EED\u6539\u8FDB\u4EA7\u54C1\u8D28\u91CF\u3002",paraId:11,tocIndex:7}]},87099:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(55482);const m=[{value:`pnpm add @formily/reactive formily-request
`,paraId:0},{value:`npm install @formily/reactive formily-request
`,paraId:1},{value:`yarn add @formily/reactive formily-request
`,paraId:2},{value:"formily-request \u9700\u8981 peer \u4F9D\u8D56 ",paraId:3},{value:"@formily/reactive@>=2.2.27",paraId:3},{value:`\uFF0C\u8BF7\u786E\u4FDD\u5DF2\u7ECF\u5B89\u88C5\u3002
\u5177\u4F53\u539F\u56E0\u8BF7\u53C2\u8003 `,paraId:3},{value:"\u5DE5\u4F5C\u539F\u7406",paraId:4},{value:"\u4F7F\u7528 formily-request \u53EA\u9700\u8981\u4E09\u4E2A\u7B80\u5355\u6B65\u9AA4\uFF1A",paraId:5,tocIndex:2},{value:"\u5F15\u5165 formily-request",paraId:6,tocIndex:2},{value:"\u4F7F\u7528\u5916\u90E8 Schema \u5E76\u6CE8\u518C\u81EA\u5B9A\u4E49\u5B57\u6BB5",paraId:6,tocIndex:2},{value:"\u5728 JSON Schema \u4E2D\u914D\u7F6E\u8BF7\u6C42",paraId:6,tocIndex:2},{value:`import { createForm } from '@formily/core';
import { Schema, createSchemaField } from '@formily/react';
import { Select } from '@formily/antd-v5';
import fxr from 'formily-request'; // \u7B2C1\u6B65: \u5F15\u5165 formily-request

fxr.use(Schema).register(); // \u7B2C2\u6B65: \u4F7F\u7528\u5916\u90E8 Schema \u5E76\u6CE8\u518C\u81EA\u5B9A\u4E49\u5B57\u6BB5 x-request

const SchemaField = createSchemaField({
  components: {
    Select,
  },
});

const form = createForm();

const schema = {
  type: 'object',
  properties: {
    select: {
      type: 'string',
      title: 'Select',
      'x-decorator': 'FormItem',
      'x-component': 'Select',
      // \u7B2C3\u6B65: \u4F7F\u7528 x-request \u914D\u7F6E\u8BF7\u6C42
      'x-request': {
        url: 'https://api.example.com/data',
        method: 'GET',
        params: { id: 10 },
        format: '{{ (res) => res.list }}',
      },
    },
  },
};

export const App = () => {
  return (
    <Form form={form}>
      <SchemaField schema={schema} />
    </Form>
  );
};
`,paraId:7,tocIndex:2},{value:"formily-request \u5185\u90E8\u4F7F\u7528\u54CD\u5E94\u5F0F\u673A\u5236\u6765\u5904\u7406\u6570\u636E\u8BF7\u6C42\u548C\u66F4\u65B0\u3002\u5F53\u7EC4\u4EF6\u521D\u59CB\u5316\u6216\u4F9D\u8D56\u7684\u54CD\u5E94\u5F0F\u6570\u636E\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u4F1A\u81EA\u52A8\u89E6\u53D1\u8BF7\u6C42\u5E76\u66F4\u65B0\u7EC4\u4EF6\u7684\u6570\u636E\u6E90\u3002",paraId:8,tocIndex:3},{value:"\u8BE6\u7EC6\u7684\u5DE5\u4F5C\u539F\u7406\u548C\u9AD8\u7EA7\u7528\u6CD5\uFF0C\u8BF7\u53C2\u8003\uFF1A",paraId:9,tocIndex:3},{value:"\u5DE5\u4F5C\u539F\u7406",paraId:10,tocIndex:3}]},26363:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(78686);const m=[{value:"formily-request \u63D0\u4F9B\u4E86\u4E09\u79CD\u4E0D\u540C\u7684\u8BF7\u6C42\u65B9\u5F0F\uFF0C\u6BCF\u79CD\u65B9\u5F0F\u90FD\u6709\u5176\u7279\u5B9A\u7684\u4F7F\u7528\u573A\u666F\u548C\u4F18\u52BF\u3002\u672C\u6587\u5C06\u5E2E\u52A9\u4F60\u9009\u62E9\u6700\u9002\u5408\u7684\u8BF7\u6C42\u65B9\u5F0F\u3002",paraId:0,tocIndex:0},{value:"fetch",paraId:1},{value:"\u8FD9\u662F\u6700\u7B80\u5355\u76F4\u63A5\u7684\u8BF7\u6C42\u65B9\u5F0F\uFF0C\u9002\u7528\u4E8E\u5927\u591A\u6570\u6807\u51C6\u7684 HTTP \u8BF7\u6C42\u573A\u666F\u3002",paraId:2,tocIndex:1},{value:"\u6700\u4F73\u5B9E\u8DF5\uFF1A",paraId:3,tocIndex:1},{value:"\u6807\u51C6\u7684 RESTful API \u8C03\u7528",paraId:4,tocIndex:1},{value:"\u7B80\u5355\u7684\u6570\u636E\u83B7\u53D6\u548C\u63D0\u4EA4",paraId:4,tocIndex:1},{value:"\u9700\u8981\u4F7F\u7528\u6807\u51C6 HTTP \u914D\u7F6E\u7684\u573A\u666F",paraId:4,tocIndex:1},{value:`{
  "x-request": {
    "url": "http://xxx.xx.com",
    "method": "post",
    "credentials": "include",
    "headers": {
      "Content-Type": "application/json"
    }
  }
}
`,paraId:5,tocIndex:1},{value:"\u4F7F\u7528 fetch \u65B9\u5F0F\u65F6\uFF0C\u8BF7\u6CE8\u610F\uFF1A",paraId:6},{value:"params",paraId:7},{value:"\u5FC5\u987B\u4E3A object \u7C7B\u578B",paraId:7},{value:"\u5EFA\u8BAE\u4F7F\u7528",paraId:7},{value:"fxr.register()",paraId:7},{value:"\u914D\u7F6E baseURL\uFF0C\u4FBF\u4E8E\u73AF\u5883\u5207\u6362",paraId:7},{value:"\u4E0D\u8981\u5728 url \u4E2D\u786C\u7F16\u7801\u73AF\u5883\u76F8\u5173\u7684\u5730\u5740",paraId:7},{value:"\u73AF\u5883\u914D\u7F6E\u793A\u4F8B\uFF1A",paraId:8},{value:`import fxr from 'formily-request';

fxr.register({
  baseURL:
    process.env.NODE_ENV === 'production' ? 'https://api.example.com' : '/api',
});
`,paraId:9},{value:"service",paraId:1},{value:"\u9002\u7528\u4E8E\u9700\u8981\u66F4\u591A\u63A7\u5236\u548C\u81EA\u5B9A\u4E49\u903B\u8F91\u7684\u573A\u666F\uFF0C\u6BD4\u5982\uFF1A",paraId:10,tocIndex:2},{value:"\u9700\u8981\u7EDF\u4E00\u7684\u8BF7\u6C42/\u54CD\u5E94\u62E6\u622A",paraId:11,tocIndex:2},{value:"\u590D\u6742\u7684\u9519\u8BEF\u5904\u7406\u903B\u8F91",paraId:11,tocIndex:2},{value:"\u4F7F\u7528\u5DF2\u6709\u7684\u8BF7\u6C42\u5E93\uFF08\u5982 axios\uFF09",paraId:11,tocIndex:2},{value:"\u9700\u8981\u5728\u8BF7\u6C42\u524D\u540E\u505A\u989D\u5916\u5904\u7406",paraId:11,tocIndex:2},{value:"\u6700\u4F73\u5B9E\u8DF5\uFF1A",paraId:12,tocIndex:2},{value:`// 1.\u521B\u5EFA\u4E1A\u52A1\u8BF7\u6C42\u51FD\u6570
const queryUser = async (params: { name: string }) => {
  const res = await axios('/api/user', { params })
  if (res.code !== 200) {
    throw new Error(res.message)
  }
  return res.data
}

// 2.\u6CE8\u5165\u5230Schema
<SchemaField scope={{ queryUser }} />

// 3.\u914D\u7F6E\u4F7F\u7528
{
  "x-request": {
    "service": "{{ queryUser }}",
    "params": { "name": "{{ $form.values.name }}" }
  }
}
`,paraId:13,tocIndex:2},{value:"\u4F7F\u7528 service \u65B9\u5F0F\u65F6\uFF1A",paraId:14,tocIndex:2},{value:"\u51FD\u6570\u5FC5\u987B\u8FD4\u56DE Promise",paraId:15,tocIndex:2},{value:"\u63A8\u8350\u5728\u51FD\u6570\u5185\u7EDF\u4E00\u5904\u7406\u9519\u8BEF",paraId:15,tocIndex:2},{value:"\u53EF\u4EE5\u7ED3\u5408\u5DF2\u6709\u7684\u8BF7\u6C42\u5E93\u4F7F\u7528",paraId:15,tocIndex:2},{value:"customService",paraId:1},{value:"\u8FD9\u79CD\u65B9\u5F0F\u9002\u5408\u4EE5\u4E0B\u573A\u666F\uFF1A",paraId:16,tocIndex:3},{value:"\u9700\u8981\u4F7F\u7528\u7279\u6B8A\u7684\u8BF7\u6C42\u65B9\u5F0F\uFF08\u5982 JSONP\uFF09",paraId:17,tocIndex:3},{value:"\u9700\u8981\u8BBF\u95EE\u5B8C\u6574\u7684 x-request \u914D\u7F6E",paraId:17,tocIndex:3},{value:"\u9700\u8981\u5728\u8BF7\u6C42\u524D\u5BF9\u914D\u7F6E\u8FDB\u884C\u9884\u5904\u7406",paraId:17,tocIndex:3},{value:"\u6700\u4F73\u5B9E\u8DF5\uFF1A",paraId:18,tocIndex:3},{value:`import type { XRequest } from "formily-request";
import jsonp from "fetch-jsonp";

// \u81EA\u5B9A\u4E49\u8BF7\u6C42\u5904\u7406
const queryUser = (config: XRequest) => {
  const { url, params } = config;
  return jsonp(\`\${url}?callback=custom\`, { params });
};

// \u6CE8\u5165\u5230Schema
<SchemaField scope={{ queryUser }} />

// \u914D\u7F6E\u4F7F\u7528
{
  "x-request": {
    "customService": "{{ queryUser }}",
    "url": "/api/users",
    "params": { "type": "{{ $form.values.type }}" }
  }
}
`,paraId:19,tocIndex:3},{value:"\u4F7F\u7528 customService \u65B9\u5F0F\u65F6\uFF1A",paraId:20,tocIndex:3},{value:"\u51FD\u6570\u53C2\u6570\u4E3A\u5B8C\u6574\u7684 x-request \u914D\u7F6E\u5BF9\u8C61",paraId:21,tocIndex:3},{value:"\u53EF\u4EE5\u81EA\u7531\u5904\u7406\u914D\u7F6E\u53C2\u6570",paraId:21,tocIndex:3},{value:"\u9002\u5408\u9700\u8981\u7279\u6B8A\u8BF7\u6C42\u65B9\u5F0F\u7684\u573A\u666F",paraId:21,tocIndex:3},{value:"\u6839\u636E\u4F60\u7684\u9700\u6C42\u573A\u666F\u9009\u62E9\u5408\u9002\u7684\u8BF7\u6C42\u65B9\u5F0F\uFF1A",paraId:22,tocIndex:4},{value:"\u4F7F\u7528 fetch \u65B9\u5F0F",paraId:23,tocIndex:4},{value:"\uFF0C\u5982\u679C\uFF1A",paraId:23,tocIndex:4},{value:"\u53EA\u9700\u8981\u7B80\u5355\u7684 HTTP \u8BF7\u6C42",paraId:24,tocIndex:4},{value:"\u4F7F\u7528\u6807\u51C6\u7684 RESTful API",paraId:24,tocIndex:4},{value:"\u4E0D\u9700\u8981\u590D\u6742\u7684\u8BF7\u6C42\u5904\u7406\u903B\u8F91",paraId:24,tocIndex:4},{value:"\u4F7F\u7528 service \u65B9\u5F0F",paraId:25,tocIndex:4},{value:"\uFF0C\u5982\u679C\uFF1A",paraId:25,tocIndex:4},{value:"\u9700\u8981\u7EDF\u4E00\u7684\u8BF7\u6C42/\u54CD\u5E94\u62E6\u622A",paraId:26,tocIndex:4},{value:"\u9700\u8981\u590D\u6742\u7684\u9519\u8BEF\u5904\u7406",paraId:26,tocIndex:4},{value:"\u5DF2\u6709\u6210\u719F\u7684\u8BF7\u6C42\u5E93\uFF08\u5982 axios\uFF09",paraId:26,tocIndex:4},{value:"\u4F7F\u7528 customService \u65B9\u5F0F",paraId:27,tocIndex:4},{value:"\uFF0C\u5982\u679C\uFF1A",paraId:27,tocIndex:4},{value:"\u9700\u8981\u7279\u6B8A\u7684\u8BF7\u6C42\u65B9\u5F0F\uFF08\u5982 JSONP\uFF09",paraId:28,tocIndex:4},{value:"\u9700\u8981\u5B8C\u6574\u63A7\u5236\u8BF7\u6C42\u914D\u7F6E",paraId:28,tocIndex:4},{value:"\u9700\u8981\u5728\u8BF7\u6C42\u524D\u9884\u5904\u7406\u914D\u7F6E",paraId:28,tocIndex:4},{value:"\u5F53\u540C\u65F6\u914D\u7F6E\u591A\u79CD\u8BF7\u6C42\u65B9\u5F0F\u65F6\uFF0C\u4F18\u5148\u7EA7\u4E3A\uFF1A",paraId:29},{value:"customService",paraId:29},{value:" > ",paraId:29},{value:"service",paraId:29},{value:" > ",paraId:29},{value:"\u5185\u7F6Efetch",paraId:29}]},55296:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(78961);const m=[{value:"formily-request \u901A\u8FC7\u6269\u5C55 JSON Schema \u5B57\u6BB5\u7684\u65B9\u5F0F\uFF0C\u4E3A\u8868\u5355\u589E\u52A0\u4E86\u5F02\u6B65\u6570\u636E\u8BF7\u6C42\u7684\u914D\u7F6E\u80FD\u529B\u3002",paraId:0,tocIndex:0},{value:"\u5B83\u7684\u6838\u5FC3\u5DE5\u4F5C\u539F\u7406\u5982\u4E0B\uFF1A",paraId:1,tocIndex:0},{value:"formily-request \u91C7\u7528\u5355\u4F8B\u6A21\u5F0F\uFF0C\u786E\u4FDD\u5728\u6574\u4E2A\u5E94\u7528\u4E2D\u53EA\u6709\u4E00\u4E2A\u5B9E\u4F8B\u3002\u8FD9\u6837\u53EF\u4EE5\u4FDD\u8BC1\u5168\u5C40\u4EC5\u4F7F\u7528\u4E00\u4E2A Schema \u7684\u6784\u9020\u51FD\u6570\uFF0C\u6CE8\u518C\u7684\u81EA\u5B9A\u4E49\u5B57\u6BB5\u3001\u5168\u5C40\u914D\u7F6E\u4E5F\u662F\u552F\u4E00\u7684\u3002",paraId:2,tocIndex:1},{value:`class FormilyRequest {
  static _instance: FormilyRequest | null = null;
  private Schema: any = null;
  private key: \`x-\${string}\` = 'x-request';

  static getInstance(): FormilyRequest {
    if (!this._instance) {
      this._instance = new FormilyRequest();
    }
    return this._instance;
  }

  use(_Schema: any) {
    if (!_Schema) {
      throw new Error('\u8BF7\u4F20\u5165Schema\u914D\u7F6E');
    }
    this.Schema = _Schema;
    return this;
  }
}
`,paraId:3,tocIndex:1},{value:"formily-request \u4F7F\u7528 ",paraId:4,tocIndex:2},{value:"@formily/reactive",paraId:4,tocIndex:2},{value:" \u5B9E\u73B0\u54CD\u5E94\u5F0F\u66F4\u65B0\u673A\u5236\uFF0C\u4E3B\u8981\u5305\u542B\u4EE5\u4E0B\u51E0\u4E2A\u6B65\u9AA4\uFF1A",paraId:4,tocIndex:2},{value:"\u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61",paraId:5,tocIndex:2},{value:"\uFF1A\u5C06 ",paraId:5,tocIndex:2},{value:"x-request",paraId:5,tocIndex:2},{value:" \u914D\u7F6E\u8F6C\u6362\u4E3A\u54CD\u5E94\u5F0F\u5BF9\u8C61",paraId:5,tocIndex:2},{value:"\u4F9D\u8D56\u6536\u96C6",paraId:5,tocIndex:2},{value:"\uFF1A\u76D1\u542C\u914D\u7F6E\u53D8\u5316\uFF0C\u6536\u96C6\u52A8\u6001\u4F9D\u8D56",paraId:5,tocIndex:2},{value:"\u89E6\u53D1\u66F4\u65B0",paraId:5,tocIndex:2},{value:"\uFF1A\u5F53\u4F9D\u8D56\u53D1\u751F\u53D8\u5316\u65F6\uFF0C\u81EA\u52A8\u89E6\u53D1\u8BF7\u6C42",paraId:5,tocIndex:2},{value:"formily-request \u901A\u8FC7\u751F\u547D\u5468\u671F\u679A\u4E3E\uFF08Lifecycle\uFF09\u6765\u7BA1\u7406\u7EC4\u4EF6\u7684\u4E0D\u540C\u72B6\u6001\uFF1A",paraId:6,tocIndex:3},{value:`enum Lifecycle {
  INIT, // \u521D\u59CB\u5316
  MOUNTED, // \u7EC4\u4EF6\u6302\u8F7D
  UNMOUNT, // \u7EC4\u4EF6\u5378\u8F7D
}
`,paraId:7,tocIndex:3},{value:"\u5728\u4E0D\u540C\u7684\u751F\u547D\u5468\u671F\u9636\u6BB5\uFF0C\u63D2\u4EF6\u4F1A\u6267\u884C\u76F8\u5E94\u7684\u64CD\u4F5C\uFF1A",paraId:8,tocIndex:3},{value:"\u521D\u59CB\u5316\u9636\u6BB5",paraId:9,tocIndex:3},{value:"\uFF1A",paraId:9,tocIndex:3},{value:"\u89E3\u6790 ",paraId:10,tocIndex:3},{value:"x-request",paraId:10,tocIndex:3},{value:" \u914D\u7F6E",paraId:10,tocIndex:3},{value:"\u521B\u5EFA\u54CD\u5E94\u5F0F\u5BF9\u8C61",paraId:10,tocIndex:3},{value:"\u8BBE\u7F6E\u76D1\u542C\u5668",paraId:10,tocIndex:3},{value:"\u6302\u8F7D\u9636\u6BB5",paraId:11,tocIndex:3},{value:"\uFF1A",paraId:11,tocIndex:3},{value:"\u68C0\u67E5 ",paraId:12,tocIndex:3},{value:"mountLoad",paraId:12,tocIndex:3},{value:" \u914D\u7F6E",paraId:12,tocIndex:3},{value:"\u89E6\u53D1\u9996\u6B21\u6570\u636E\u8BF7\u6C42",paraId:12,tocIndex:3},{value:"\u5F00\u59CB\u76D1\u542C\u4F9D\u8D56\u53D8\u5316",paraId:12,tocIndex:3},{value:"\u5378\u8F7D\u9636\u6BB5",paraId:13,tocIndex:3},{value:"\uFF1A",paraId:13,tocIndex:3},{value:"\u6E05\u7406\u76D1\u542C\u5668",paraId:14,tocIndex:3},{value:"\u91CD\u7F6E\u751F\u547D\u5468\u671F\u72B6\u6001",paraId:14,tocIndex:3},{value:"\u4EE5\u4E0B\u65F6\u5E8F\u56FE\u5C55\u793A\u4E86\u54CD\u5E94\u5F0F\u66F4\u65B0\u7684\u5B8C\u6574\u6D41\u7A0B\uFF1A",paraId:15,tocIndex:4}]},11367:function(p,n,e){e.r(n),e.d(n,{texts:function(){return m}});var o=e(93031);const m=[]},37061:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    username: {
      type: 'string',
      title: '\u7528\u6237\u540D',
      required: true,
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Input',
    },
    password: {
      type: 'string',
      title: '\u5BC6\u7801',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Input',
    },
    database: {
      type: 'string',
      title: '\u5E93\u540D',
      required: true,
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
        fieldNames: { label: 'text', value: 'id' },
        onDropdownVisibleChange:
          '{{ open => open && $self.invoke("reloadRequest") }}',
      },
      'x-request': {
        url: '/api/search',
        params: {
          text: '{{  $values.username }}', // Demo\u6F14\u793A\u7684\u63A5\u53E3\u9700\u8981\u8BE5\u5B57\u6BB5\u4F5C\u4E3A\u5165\u53C2\uFF0C\u5B9E\u9645\u573A\u666F\u662F\u4E0B\u65B9\u7684username\u3001password
          username: '{{ $values.username }}',
          password: '{{ $values.password }}',
        },
        format: '{{ (res) => res?.data?.list || [] }}',
        mountLoad: false,
        disabledReactive: true, // \u7981\u7528\u54CD\u5E94\u5F0F\u66F4\u65B0\uFF0Cparams\u4E0B\u7684\u5B57\u6BB5\u53D1\u751F\u53D8\u5316\u65F6\u4E0D\u53BB\u53D1\u8D77\u8BF7\u6C42
      },
    },
    table: {
      type: 'string',
      title: '\u8868\u540D',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-request': {
        url: '/api/search',
        params: {
          text: '{{  $values.database }}',
        },
        format: '{{ (res) => res?.data?.list || [] }}',
        mountLoad: false,
        disabledReactive: false, // \u4E0D\u7981\u7528\u54CD\u5E94\u5F0F\u66F4\u65B0\uFF0C\u5E93\u540D\u7684\u53D8\u5316\u662F\u4E0B\u62C9\u9009\u62E9\uFF0C\u76F8\u6BD4\u8F93\u5165\u6765\u8BF4\u4E0D\u7B97\u9891\u7E41
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},68469:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

export default () => {
  const schema: ISchema = {
    type: 'object',
    properties: {
      select: {
        type: 'string',
        title: '\u57FA\u7840\u4E0B\u62C9',
        'x-decorator': 'FormItem',
        'x-component': 'Select',
        'x-component-props': {
          style: { width: 300 },
          placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
          fieldNames: { label: 'username', value: 'id' },
        },
        'x-request': {
          url: '/api/user',
          format: '{{ (res) => res?.data?.list || [] }}',
        },
      },
    },
  };
  return <SchemaForm schema={schema} />;
};
`},7339:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    select: {
      type: 'string',
      title: '\u57FA\u7840\u4E0B\u62C9',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
      },
      'x-request': {
        url: '/api/user',
        format:
          '{{ (res) => res?.data?.list.map(it => ({ label: it.username, value: it.id })) }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},85057:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    search_select: {
      type: 'string',
      title: '\u641C\u7D22\u4E0B\u62C9',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
        fieldNames: { label: 'text', value: 'id' },
        onDropdownVisibleChange:
          '{{ open => open && $self.invoke("reloadRequest") }}',
      },
      'x-request': {
        url: '/api/search',
        params: { text: 'formily' },
        format: '{{ (res) => res?.data?.list || [] }}',
        mountLoad: false,
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},99152:function(p,n){n.Z=`import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';
import { message, type SelectProps } from 'antd';
import { Field } from '@formily/core';

const schema: ISchema = {
  type: 'object',
  properties: {
    delay_search_select: {
      type: 'string',
      title: '\u641C\u7D22\u4E0B\u62C9',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
        fieldNames: { label: 'text', value: 'id' },
        onDropdownVisibleChange: '{{ useDropdownVisibleChange($self) }}',
      },
      'x-request': {
        url: '/api/search',
        params: { text: 'formily' },
        format: '{{ (res) => res?.data?.list || [] }}',
        mountLoad: false,
      },
    },
  },
};

const delay = (time: number) => {
  return new Promise((resolve) => {
    setTimeout(resolve, time);
  });
};

const useDropdownVisibleChange = (field: Field) => {
  const _onDropdownVisibleChange: SelectProps['onDropdownVisibleChange'] = (
    open,
  ) => {
    if (open) {
      message.loading('\u52A0\u8F7D\u4E2D...', 0);
      delay(3000).then(() => {
        field.invoke('reloadRequest').then(() => {
          message.destroy();
        });
      });
    } else {
      field.dataSource = [];
    }
  };
  return _onDropdownVisibleChange;
};

export default () => {
  return <SchemaForm schema={schema} scope={{ useDropdownVisibleChange }} />;
};
`},49351:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    keyword: {
      type: 'string',
      title: '\u641C\u7D22\u5173\u952E\u5B57',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Input',
    },
    type: {
      type: 'string',
      title: '\u7C7B\u578B',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Radio.Group',
      'x-request': {
        url: '/api/search',
        params: {
          text: '{{ $values.keyword || ""  }}',
        },
        format:
          '{{ (res) => res?.data?.list.map(it => ({ label: it.text, value: it.id })) }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},90048:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    visible: {
      type: 'boolean',
      title: '\u662F\u5426\u53D1\u8D77\u8BF7\u6C42',
      'x-decorator': 'FormItem',
      'x-component': 'Switch',
      'x-component-props': {
        checkedChildren: '\u662F',
        unCheckedChildren: '\u5426',
      },
    },
    ready_select: {
      type: 'string',
      title: '\u57FA\u7840\u4E0B\u62C9',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '{{ $values.visible ? "\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879" : "\u8BF7\u5148\u5F00\u542F\u8BF7\u6C42" }}',
        onSearch:
          '{{ keyword => $self.invoke("updateRequest", request => request.params.text = keyword) }}',
        showSearch: true,
        filterOption: false,
        fieldNames: { label: 'text', value: 'id' },
      },
      'x-request': {
        url: '/api/search',
        params: { text: '' },
        ready: '{{ !!$values.visible }}',
        format: '{{ (res) => res?.data?.list || [] }}',
      },
      // \u5207\u6362 \u201C\u662F\u5426\u53D1\u8D77\u8BF7\u6C42\u201D \u65F6\uFF0C\u6E05\u7A7A\u4E0B\u62C9\u6570\u636E
      'x-reactions': {
        dependencies: ['.visible'],
        fulfill: { state: { dataSource: [] } },
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},11100:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    keyword: {
      type: 'string',
      title: '\u641C\u7D22\u5173\u952E\u5B57',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Input',
    },
    type: {
      type: 'string',
      title: '\u7C7B\u578B',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u7C7B\u578B',
        onDropdownVisibleChange:
          '{{ open => open && $self.invoke("reloadRequest") }}',
      },
      'x-request': {
        url: '/api/search',
        params: {
          text: '{{ $values.keyword || "" }}',
        },
        format:
          '{{ (res) => res?.data?.list.map(it => ({ label: it.text, value: it.id })) }}',
        disabledReactive: true,
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},7592:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    select: {
      type: 'string',
      title: '\u4E0B\u62C9\u6846',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
        onSearch:
          '{{ keyword => $self.invoke("updateRequest", request => request.params.text = keyword) }}',
        showSearch: true,
        filterOption: false,
        fieldNames: { label: 'text', value: 'id' },
      },
      'x-request': {
        url: '/api/search',
        params: { text: '' },
        format: '{{ (res) => res?.data?.list || [] }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},42461:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';
import debounce from 'lodash.debounce';

const schema: ISchema = {
  type: 'object',
  properties: {
    select: {
      type: 'string',
      title: '\u4E0B\u62C9\u6846',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
        onSearch:
          '{{ debounce((keyword) => $self.invoke("updateRequest", request => request.params.text = keyword), 500)  }}',
        showSearch: true,
        filterOption: false,
        fieldNames: { label: 'text', value: 'id' },
      },
      'x-request': {
        url: '/api/search',
        params: { text: '' },
        format: '{{ (res) => res?.data?.list || [] }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} scope={{ debounce }} />;
};
`},98120:function(p,n){n.Z=`import { Schema, createSchemaField } from '@formily/react';
import {
  Cascader,
  Checkbox,
  FormItem,
  Input,
  Radio,
  Select,
  Submit,
  Switch,
  ArrayTable,
  ArrayItems,
  Space,
  Editable,
} from '@formily/antd-v5';
import { Flex } from 'antd';
import fxr from 'formily-request';
import { mockApiBaseURL } from '@site/constant/index';

fxr.use(Schema).register({
  baseURL: mockApiBaseURL,
  onLog: async (level, msg, error) => {
    if (level === 'ERROR') {
      console.group('\u5168\u5C40onLog\u51FD\u6570', msg);
      console.log('error:');
      console.dir(error);
      console.log('error.cause:');
      console.dir(error.cause);
      console.groupEnd();
    }
  },
});

export const SchemaField = createSchemaField({
  components: {
    FormItem,
    Select,
    Submit,
    Input,
    Radio,
    Switch,
    Checkbox,
    Cascader,
    ArrayTable,
    ArrayItems,
    Space,
    Editable,

    // antd
    Flex,
  },
});
`},29377:function(p,n){n.Z=`import { useMemo } from 'react';
import { createForm } from '@formily/core';
import { Form, FormButtonGroup, Reset, Submit } from '@formily/antd-v5';
import { SchemaField } from './SchemaField';

import type { ISchema, ISchemaFieldProps } from '@formily/react';

type Props = {
  schema: ISchema;
  scope?: ISchemaFieldProps['scope'];
};

export const SchemaForm = ({ schema, scope }: Props) => {
  const form = useMemo(() => createForm(), []);
  return (
    <Form
      labelWidth={200}
      form={form}
      onAutoSubmit={(values) => alert(JSON.stringify(values, null, 2))}
    >
      <SchemaField schema={schema} scope={scope || {}} />
      <FormButtonGroup.FormItem>
        <Submit>\u63D0\u4EA4</Submit>
        <Reset>\u91CD\u7F6E</Reset>
      </FormButtonGroup.FormItem>
    </Form>
  );
};
`},39365:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const queryUser = () => {
  return new Promise((resolve) => {
    // mock request
    const mockData = [
      { name: 'admin', id: 1 },
      { name: 'test', id: 2 },
    ];
    setTimeout(() => {
      resolve(mockData.map((item) => ({ label: item.name, value: item.id })));
    }, 1000);
  });
};

const schema: ISchema = {
  type: 'object',
  properties: {
    select: {
      type: 'string',
      title: '\u57FA\u7840\u4E0B\u62C9',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': { placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879' },
      'x-request': {
        service: '{{ queryUser }}',
        // format: '',  \u8FD4\u56DE\u7684\u6570\u636E\u53EF\u4EE5\u76F4\u63A5\u88AB Select \u4F7F\u7528\uFF0C\u6240\u4EE5\u4E0D\u9700\u8981 format
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} scope={{ queryUser }} />;
};
`},17106:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';
import { XRequest } from 'formily-request';

const obj2str = (obj: any) =>
  Object.keys(obj)
    .map((key: any) => key + '=' + obj[key])
    .join('&');

const queryUser: XRequest['customService'] = (config, globalConfig) => {
  const url = globalConfig.baseURL + (config.url || '');
  return fetch(\`\${url}?\${obj2str(config.params)}\`, {
    headers: {
      'Content-Type': 'application/json',
    },
  })
    .then((res) => res.json())
    .then((res) =>
      res?.data?.list?.map((it: any) => ({
        label: it.text,
        value: it.id,
      })),
    );
};

const schema: ISchema = {
  type: 'object',
  properties: {
    select: {
      type: 'string',
      title: '\u57FA\u7840\u4E0B\u62C9',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
        showSearch: true,
        filterOption: false,
        onSearch:
          '{{ v => $self.invoke("updateRequest", x => x.params.text = v) }}',
      },
      'x-request': {
        url: '/api/search',
        params: { text: '' },
        customService: '{{ queryUser }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} scope={{ queryUser }} />;
};
`},97706:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const queryUserWithParams = (params: { keyword: string }) => {
  return new Promise((resolve) => {
    // mock request
    setTimeout(() => {
      if (!params.keyword) {
        resolve([]);
      } else {
        resolve({
          data: Array.from({ length: 10 }).map((_, index) => {
            return {
              label: \`\${params.keyword}-\${index}\`,
              value: \`\${params.keyword}-\${index}\`,
            };
          }),
        });
      }
    }, 1000);
  });
};

const schema: ISchema = {
  type: 'object',
  properties: {
    search_select: {
      type: 'string',
      title: '\u53C2\u6570\u67E5\u8BE2',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': {
        placeholder: '\u8BF7\u9009\u62E9\u4E0B\u62C9\u9879',
        showSearch: true,
        filterOption: false,
        onSearch:
          '{{ value => $self.invoke("updateRequest", r => r.params.keyword = value) }}',
      },
      'x-request': {
        service: '{{ queryUserWithParams }}',
        params: { keyword: '' },
        format: '{{ res => res.data }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} scope={{ queryUserWithParams }} />;
};
`},52223:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    array: {
      type: 'array',
      title: '\u5BF9\u8C61\u6570\u7EC4',
      'x-component': 'ArrayItems',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        labelWidth: 100,
      },
      'x-request': {
        url: '/api/user',
        onSuccess: '{{ res => $self.value = res?.data?.list || [] }}',
      },
      items: {
        type: 'object',
        properties: {
          space: {
            type: 'void',
            'x-component': 'Flex',
            'x-component-props': { gap: 20 },
            properties: {
              sort: {
                type: 'void',
                'x-decorator': 'FormItem',
                'x-component': 'ArrayItems.SortHandle',
              },
              username: {
                type: 'string',
                title: 'UserName',
                'x-decorator': 'FormItem',
                'x-component': 'Input',
              },
              email: {
                type: 'string',
                title: 'Email',
                'x-decorator': 'FormItem',
                'x-component': 'Input',
              },
              status: {
                type: 'string',
                title: 'Status',
                'x-decorator': 'FormItem',
                'x-component': 'Input',
              },
              remove: {
                type: 'void',
                'x-decorator': 'FormItem',
                'x-component': 'ArrayItems.Remove',
              },
            },
          },
        },
      },
      properties: {
        add: {
          type: 'void',
          title: '\u6DFB\u52A0\u6761\u76EE',
          'x-component': 'ArrayItems.Addition',
        },
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},188:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    array: {
      type: 'array',
      'x-decorator': 'FormItem',
      'x-component': 'ArrayTable',
      'x-component-props': {
        pagination: { pageSize: 10 },
        scroll: { x: '100%' },
      },
      'x-request': {
        url: '/api/user',
        onSuccess: '{{ res => $self.value = res?.data?.list || [] }}',
      },
      items: {
        type: 'object',
        properties: {
          column1: {
            type: 'void',
            'x-component': 'ArrayTable.Column',
            'x-component-props': { width: 50, title: 'Sort', align: 'center' },
            properties: {
              sort: {
                type: 'void',
                'x-component': 'ArrayTable.SortHandle',
              },
            },
          },
          column2: {
            type: 'void',
            'x-component': 'ArrayTable.Column',
            'x-component-props': { width: 80, title: 'Index', align: 'center' },
            properties: {
              index: {
                type: 'void',
                'x-component': 'ArrayTable.Index',
              },
            },
          },
          column3: {
            type: 'void',
            'x-component': 'ArrayTable.Column',
            'x-component-props': { width: 200, title: 'UserName' },
            properties: {
              username: {
                type: 'string',
                'x-decorator': 'Editable',
                'x-component': 'Input',
              },
            },
          },
          column4: {
            type: 'void',
            'x-component': 'ArrayTable.Column',
            'x-component-props': { width: 200, title: 'Email' },
            properties: {
              email: {
                type: 'string',
                'x-decorator': 'FormItem',
                'x-component': 'Input',
              },
            },
          },
          column5: {
            type: 'void',
            'x-component': 'ArrayTable.Column',
            'x-component-props': { width: 200, title: 'Status' },
            properties: {
              status: {
                type: 'string',
                'x-decorator': 'FormItem',
                'x-component': 'Input',
              },
            },
          },
          column6: {
            type: 'void',
            'x-component': 'ArrayTable.Column',
            'x-component-props': {
              title: 'Operations',
              dataIndex: 'operations',
              width: 200,
              fixed: 'right',
            },
            properties: {
              item: {
                type: 'void',
                'x-component': 'FormItem',
                properties: {
                  remove: {
                    type: 'void',
                    'x-component': 'ArrayTable.Remove',
                  },
                  moveDown: {
                    type: 'void',
                    'x-component': 'ArrayTable.MoveDown',
                  },
                  moveUp: {
                    type: 'void',
                    'x-component': 'ArrayTable.MoveUp',
                  },
                },
              },
            },
          },
        },
      },
      properties: {
        add: {
          type: 'void',
          'x-component': 'ArrayTable.Addition',
          title: '\u6DFB\u52A0\u6761\u76EE',
        },
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},27084:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    type: {
      type: 'string',
      title: '\u7EC4\u4EF6\u7C7B\u578B',
      'x-decorator': 'FormItem',
      'x-component': 'Radio.Group',
      'x-component-props': {
        optionType: 'button',
        buttonStyle: 'solid',
      },
      default: 'Select',
      enum: [
        { label: 'Select', value: 'Select' },
        { label: 'Radio', value: 'Radio.Group' },
        { label: 'Checkbox', value: 'Checkbox.Group' },
      ],
    },
    comp: {
      type: 'string',
      title: '\u6E32\u67D3\u7EC4\u4EF6',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 400,
      },
      'x-component': '{{ $values.type  }}',
      'x-request': {
        url: '/api/user',
        format:
          '{{ (res) => res?.data?.list.map(it => ({ label: it.username, value: it.id })) }}',
        // \u8BF7\u6C42\u6210\u529F\u540E\uFF0C\u8BBE\u7F6E\u5B57\u6BB5\u7684\u9ED8\u8BA4\u503C\uFF0C\u8FD9\u91CC\u9ED8\u8BA4\u9009\u7B2C0\u4E2A
        onSuccess:
          '{{ () => (Array.isArray($self.dataSource) && $self.dataSource.length > 0) ? $self.initialValue = $self.dataSource[0].value : null }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},3091:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';
import { Schema } from '@formily/react';
import { compiler } from './formily-catch-error';

Schema.registerCompiler(compiler); // \u6CE8\u518C\u7F16\u8BD1\u51FD\u6570

const schema: ISchema = {
  type: 'object',
  properties: {
    compile_error_format: {
      type: 'string',
      title: 'compile_error_format',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-request': {
        url: '/api/user',
        format: '{{ $a }}', // <- \u9519\u8BEF\u7684\u53D8\u91CF
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},76365:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    scene: {
      type: 'string',
      title: 'error_demo',
      'x-decorator': 'FormItem',
      'x-component': 'Radio.Group',
      'x-component-props': { optionType: 'button' },
      description: '\u9009\u62E9\u4E0A\u65B9\u573A\u666F\uFF0C\u67E5\u770B\u4E0D\u540C\u7684\u9519\u8BEF\u573A\u666F',
      default: 'error_url',
      enum: [
        { label: '\u7C7B\u578B\u9519\u8BEF', value: 'type_error' },
        { label: '\u8FD4\u56DE\u503C\u9519\u8BEF', value: 'return_error' },
        { label: '\u8BED\u6CD5\u9519\u8BEF', value: 'syntax_error' },
      ],
    },
    type_error: {
      type: 'string',
      title: 'type_error_format',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-request': {
        url: '/api/user',
        ready: '{{ $self.visible }}',
        format: '{{ 123 }}', // <- \u9519\u8BEF\u7684format\u7C7B\u578B,\u89E6\u53D1\u4E86onError\u4E8B\u4EF6
        onError: '{{ error => $self.selfErrors = error.message }}',
      },
      'x-visible': '{{ $values.scene === "type_error" }}',
    },
    return_error: {
      type: 'string',
      title: 'return_error_format',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-request': {
        url: '/api/user',
        ready: '{{ $self.visible }}',
        format: '{{ () => undefined }}', // <- \u9519\u8BEF\u7684format\u8FD4\u56DE\u503C,\u89E6\u53D1\u4E86onError\u4E8B\u4EF6
        onError: '{{ error => $self.selfErrors = error.message }}',
      },
      'x-visible': '{{ $values.scene === "return_error" }}',
    },
    syntax_error: {
      type: 'string',
      title: 'syntax_error_format',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-request': {
        url: '/api/user',
        ready: '{{ $self.visible }}',
        format: '{{ (res) => ress?.data || [] }}', // <- \u9519\u8BEF\u7684format\u8BED\u6CD5\u9519\u8BEF\uFF08ress\uFF09,\u89E6\u53D1\u4E86onError\u4E8B\u4EF6
        onError: '{{ error => $self.selfErrors = error.message }}',
      },
      'x-visible': '{{ $values.scene === "syntax_error" }}',
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},30366:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    error_url: {
      type: 'boolean',
      title: '\u5207\u6362\u8BF7\u6C42\u5730\u5740',
      'x-decorator': 'FormItem',
      'x-component': 'Switch',
      description: '\u5207\u6362\u6B63\u786E/\u9519\u8BEF\u7684\u8BF7\u6C42\u5730\u5740\uFF0C\u91CD\u65B0\u9519\u8BEF\u573A\u666F',
    },
    error_api_url: {
      type: 'string',
      title: '\u4E0B\u62C9\u9879',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-component-props': { fieldNames: { label: 'username', value: 'id' } },
      'x-request': {
        url: '{{ $values.error_url ? "/api/error-url" : "/api/user" }}',
        format: '{{ (res) => res?.data?.list || [] }}',
        onSuccess: '{{ res => $self.selfErrors = null }}',
        onError: '{{ error => $self.selfErrors = error.message }}',
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},22069:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    scene: {
      type: 'string',
      title: 'error_demo',
      'x-decorator': 'FormItem',
      'x-component': 'Radio.Group',
      'x-component-props': { optionType: 'button' },
      description: '\u9009\u62E9\u4E0A\u65B9\u573A\u666F\uFF0C\u67E5\u770B\u4E0D\u540C\u7684\u9519\u8BEF\u573A\u666F',
      enum: [
        { label: '\u9519\u8BEF\u7684\u8BF7\u6C42\u5730\u5740', value: 'error_url' },
        { label: '\u672A\u6388\u6743\u63A5\u53E3', value: 'unauthorized' },
      ],
    },
    error_url: {
      type: 'string',
      title: 'error_api',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-request': {
        url: '/api/error-url',
        ready: '{{ $self.visible }}',
        onError: '{{ error => $self.selfErrors = error.message }}',
      },
      'x-visible': '{{ $values.scene === "error_url" }}',
    },
    unauthorized: {
      type: 'string',
      title: 'error_api',
      'x-decorator': 'FormItem',
      'x-decorator-props': { wrapperWidth: 300 },
      'x-component': 'Select',
      'x-request': {
        url: '/api/unauthorized', // \u9519\u8BEF\u7684 url
        ready: '{{ $self.visible }}',
        onError: '{{ error => $self.selfErrors = error.message }}',
      },
      'x-visible': '{{ $values.scene === "unauthorized" }}',
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},4053:function(p,n){n.Z=`export function compiler(expression: string, scope: any = {}) {
  try {
    return new Function('$root', \`with($root) { return (\${expression}); }\`)(
      scope,
    );
  } catch (error) {
    console.group('formily:expr-error');
    console.error(error);
    console.log('expr', expression);
    console.log('scope', scope);
    console.log('address', scope.$self.address.entire);
    console.groupEnd();
  }
}
`},75240:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React, { useMemo } from 'react';
import { type ISchema } from '@formily/react';
import { createForm, Field } from '@formily/core';
import { Form, FormButtonGroup, Reset, Submit } from '@formily/antd-v5';
import { SchemaField } from '../common/SchemaField';
import { type Option } from './types';
import CascaderDataManager from './cascader-data-manager';

const dataManager = new CascaderDataManager();

const getLevelData = async (params: any) => {
  return dataManager.getData(params);
};

const schema: ISchema = {
  type: 'object',
  properties: {
    values: {
      type: 'string',
      title: '\u7701\u5E02\u533A\u7EA7\u8054',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 300,
      },
      'x-component': 'Cascader',
      'x-component-props': {
        fieldNames: { label: 'name', value: 'code' },
        changeOnSelect: true,
      },
      'x-request': {
        service: '{{ getLevelData }}',
        params: { type: 'provinces' },
      },
      'x-reactions': (
        field: Field,
        scope: { getLevelData: typeof getLevelData },
      ) => {
        const loadData = async (selectedOptions: Option[]) => {
          const targetOption = selectedOptions[selectedOptions.length - 1];
          let nextLevelData: Option[] = [];

          if (targetOption.type === 'provinces') {
            nextLevelData = await scope.getLevelData({
              type: 'cities',
              provinceId: targetOption.id,
            });
          } else if (targetOption.type === 'cities') {
            nextLevelData = await scope.getLevelData({
              type: 'districts',
              cityId: targetOption.id,
            });
          }

          field.dataSource = dataManager.updateNodeChildren(
            field.dataSource as Option[],
            targetOption.id,
            nextLevelData,
          );
        };
        field.setComponentProps({
          loadData,
        });
      },
    },
  },
};

export default () => {
  const form = useMemo(() => createForm({}), []);
  return (
    <Form
      labelWidth={200}
      form={form}
      onAutoSubmit={(values) => alert(JSON.stringify(values, null, 2))}
    >
      <SchemaField schema={schema} scope={{ getLevelData }} />
      <FormButtonGroup.FormItem>
        <Submit>\u63D0\u4EA4</Submit>
        <Reset>\u91CD\u7F6E</Reset>
      </FormButtonGroup.FormItem>
    </Form>
  );
};
`},22798:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React, { useMemo } from 'react';
import { type ISchema } from '@formily/react';
import { createForm } from '@formily/core';
import { Form, FormButtonGroup, Reset, Submit } from '@formily/antd-v5';
import { SchemaField } from '../common/SchemaField';

const schema: ISchema = {
  type: 'object',
  properties: {
    province: {
      type: 'string',
      title: '\u7701',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 300,
      },
      'x-component': 'Select',
      'x-component-props': {
        fieldNames: { label: 'name', value: 'code' },
      },
      'x-request': {
        url: '/api/area?type=provinces',
        format: '{{ res => res?.data || [] }}',
      },
    },
    city: {
      type: 'string',
      title: '\u5E02',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 300,
      },
      'x-component': 'Select',
      'x-component-props': {
        fieldNames: { label: 'name', value: 'code' },
      },
      'x-request': {
        url: '/api/area',
        params: {
          type: 'cities',
          provinceId: '{{ $values.province }}',
        },
        ready: '{{ !!$values.province }}',
        format: '{{ res => res?.data || [] }}',
      },
      'x-reactions': {
        dependencies: ['province'],
        when: "{{ $self.query('.province').get('modified') }}",
        fulfill: { state: { value: null, modified: true } },
      },
    },
    district: {
      type: 'string',
      title: '\u533A',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 300,
      },
      'x-component': 'Select',
      'x-component-props': {
        fieldNames: { label: 'name', value: 'code' },
      },
      'x-request': {
        url: '/api/area',
        params: {
          type: 'districts',
          cityId: '{{ $values.city }}',
        },
        ready: '{{ (request) => !!request.params.cityId }}',
        format: '{{ res => res?.data || [] }}',
      },
      'x-reactions': {
        dependencies: ['city'],
        when: "{{ $self.query('.city').get('modified') }}",
        fulfill: { state: { value: null, modified: true } },
      },
    },
  },
};

export default () => {
  const form = useMemo(
    () =>
      createForm({
        values: {
          province: '11',
          city: '1101',
          district: '110115',
        },
      }),
    [],
  );

  return (
    <Form
      labelWidth={200}
      form={form}
      onAutoSubmit={(values) => alert(JSON.stringify(values, null, 2))}
    >
      <SchemaField schema={schema} />
      <FormButtonGroup.FormItem>
        <Submit>\u63D0\u4EA4</Submit>
        <Reset>\u91CD\u7F6E</Reset>
      </FormButtonGroup.FormItem>
    </Form>
  );
};
`},10951:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type Option } from './types';
import { mockApiBaseURL } from '@site/constant/index';

const baseURL = mockApiBaseURL;

const obj2str = (obj: any) =>
  Object.keys(obj)
    .map((key: any) => key + '=' + obj[key])
    .join('&');

interface LevelParams {
  type: 'provinces' | 'cities' | 'districts';
  provinceId?: string | number;
  cityId?: string | number;
}

class CascaderDataManager {
  private cache: Map<string, Option[]>;

  constructor() {
    this.cache = new Map();
  }

  private getCacheKey(params: LevelParams): string {
    return obj2str(params);
  }

  private async fetchData(params: LevelParams): Promise<Option[]> {
    const _params = obj2str(params);
    const res = await fetch(\`\${baseURL}/api/area?\${_params}\`).then((res) =>
      res.json(),
    );
    return res?.data?.map((it: any) => ({
      ...it,
      type: params.type,
      isLeaf: params.type === 'districts', // \u4E3A\u201C\u533A\u201D\u65F6\u8868\u793Aw\u53F6\u5B50\u8282\u70B9
    }));
  }

  async getData(params: LevelParams): Promise<Option[]> {
    const cacheKey = this.getCacheKey(params);
    if (this.cache.has(cacheKey)) {
      return this.cache.get(cacheKey)!;
    }

    const data = await this.fetchData(params);
    this.cache.set(cacheKey, data);
    return data;
  }

  updateNodeChildren(
    data: Option[],
    targetId: string | number | null | undefined,
    children: Option[],
  ): Option[] {
    return data.map((item) => {
      if (item.id === targetId) {
        return { ...item, children };
      }
      if (item.children) {
        return {
          ...item,
          children: this.updateNodeChildren(item.children, targetId, children),
        };
      }
      return item;
    });
  }

  findNode(data: Option[], targetId: string | number | null): Option | null {
    for (const item of data) {
      if (item.id === targetId) {
        return item;
      }
      if (item.children) {
        const found = this.findNode(item.children, targetId);
        if (found) {
          return found;
        }
      }
    }
    return null;
  }
}

export default CascaderDataManager;
`},70957:function(p,n){n.Z=`// @ts-nocheck dumi needs React import for real-time editing
import React from 'react';
import { type ISchema } from '@formily/react';
import { SchemaForm } from '../common/SchemaForm';

const schema: ISchema = {
  type: 'object',
  properties: {
    province: {
      type: 'string',
      title: '\u7701',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 300,
      },
      'x-component': 'Select',
      'x-component-props': {
        fieldNames: { label: 'name', value: 'code' },
      },
      'x-request': {
        url: '/api/area?type=provinces',
        format: '{{ res => res?.data || [] }}',
      },
    },
    city: {
      type: 'string',
      title: '\u5E02',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 300,
      },
      'x-component': 'Select',
      'x-component-props': {
        fieldNames: { label: 'name', value: 'code' },
      },
      'x-request': {
        url: '/api/area',
        params: {
          type: 'cities',
          provinceId: '{{ $values.province }}',
        },
        ready: '{{ !!$values.province }}',
        format: '{{ res => res?.data || [] }}',
      },
      'x-reactions': {
        dependencies: ['province'],
        when: "{{ $self.query('.province').get('modified') }}",
        fulfill: { state: { value: null, modified: true } },
      },
    },
    district: {
      type: 'string',
      title: '\u533A',
      'x-decorator': 'FormItem',
      'x-decorator-props': {
        wrapperWidth: 300,
      },
      'x-component': 'Select',
      'x-component-props': {
        fieldNames: { label: 'name', value: 'code' },
      },
      'x-request': {
        url: '/api/area',
        params: {
          type: 'districts',
          cityId: '{{ $values.city }}',
        },
        ready: '{{ (request) => !!request.params.cityId }}',
        format: '{{ res => res?.data || [] }}',
      },
      'x-reactions': {
        dependencies: ['city'],
        when: "{{ $self.query('.city').get('modified') }}",
        fulfill: { state: { value: null, modified: true } },
      },
    },
  },
};

export default () => {
  return <SchemaForm schema={schema} />;
};
`},22547:function(p,n,e){e.r(n),e.d(n,{Lifecycle:function(){return u},default:function(){return d}});var o=e(29068),m=Object.defineProperty,s=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,r=(t,a,l)=>a in t?m(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,A=(t,a)=>{for(var l in a||(a={}))F.call(a,l)&&r(t,l,a[l]);if(s)for(var l of s(a))h.call(a,l)&&r(t,l,a[l]);return t},f=(t,a)=>{var l={};for(var c in t)F.call(t,c)&&a.indexOf(c)<0&&(l[c]=t[c]);if(t!=null&&s)for(var c of s(t))a.indexOf(c)<0&&h.call(t,c)&&(l[c]=t[c]);return l},g=(t,a,l)=>(r(t,typeof a!="symbol"?a+"":a,l),l),E=(t,a,l)=>new Promise((c,x)=>{var C=N=>{try{T(l.next(N))}catch(L){x(L)}},R=N=>{try{T(l.throw(N))}catch(L){x(L)}},T=N=>N.done?c(N.value):Promise.resolve(N.value).then(C,R);T((l=l.apply(t,a)).next())});const v=t=>Object.prototype.toString.call(t).slice(8,-1),D=t=>v(t)==="Object",_=t=>t instanceof Error?t.message:t instanceof Response?`http error: ${t.statusText}, Status: ${t.status}`:"unknown error",P=(t,a)=>{try{return JSON.stringify(t,(l,c)=>typeof c=="function"?`${c}`:typeof c=="undefined"?"undefined":c)}catch(l){return a||`JSON.stringify error: ${_(l)}`}},M=(t,a)=>{const[l,c]=t.split("?"),x=new URLSearchParams(c);D(a)&&Object.entries(a).forEach(([R,T])=>{typeof T=="undefined"||T===null||(x.has(R)?x.set(R,T):x.append(R,T))});const C=x.toString();return C?[l,C].join("?"):l},O=t=>E(void 0,null,function*(){try{const a=t,{url:l,baseURL:c="",params:x}=a,C=f(a,["url","baseURL","params"]),R=C.method||"GET";if(typeof l!="string"||!l)throw new TypeError("url\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A\u4E14\u5FC5\u987B\u662F\u5B57\u7B26\u4E32\u7C7B\u578B");let T=/^http(s?):\/\//i.test(l)?l:c+l;R.toUpperCase()==="GET"?T=M(T,x):C.body=P(x,"{}");const N=yield fetch(T,A({headers:{"Content-Type":"application/json"}},C));if(!N.ok)throw N;return N.json()}catch(a){const l=_(a);throw new Error(`fetch error, ${l}`,{cause:a})}}),U=t=>{if(!t)return{};if(typeof t!="object")throw new TypeError("\u53C2\u6570\u7C7B\u578B\u9519\u8BEF,\u9700\u8981\u4E3A\u5BF9\u8C61");return t},S=(t,a,l)=>{const c=t[a]||[];return t[a]=[l,...Array.isArray(c)?c:[c]],t};class y{constructor(a,l="FormilyRequest",c){g(this,"debug"),g(this,"prefix"),g(this,"onLog"),this.debug=a,this.prefix=l,this.onLog=c}formatMessage(a,l,c){let x=`[${new Date().toLocaleString()}][${this.prefix}][${a}]:${l} `;return c!==void 0&&(x+=P(c)),x}info(a,l){var c;const x=this.formatMessage("INFO",a,l);(c=this.onLog)==null||c.call(this,"INFO",x),this.debug&&console.info(x)}warn(a,l){var c;const x=this.formatMessage("WARN",a,l);(c=this.onLog)==null||c.call(this,"WARN",x),this.debug&&console.warn(x)}error(a,l){var c;const x=this.formatMessage("ERROR",a);(c=this.onLog)==null||c.call(this,"ERROR",x,l),this.debug&&console.error(x,l)}group(a){this.debug&&console.group(this.formatMessage("GROUP",a))}groupEnd(){this.debug&&console.groupEnd()}}var u=(t=>(t[t.UNMOUNT=0]="UNMOUNT",t[t.INIT=1]="INIT",t[t.MOUNTED=2]="MOUNTED",t[t.REACTION=3]="REACTION",t))(u||{});const i=class k{constructor(){g(this,"Schema",null),g(this,"key","x-request"),g(this,"createReaction",(a,l={},c)=>(x,C)=>{const R=this.Schema.compile(a,C),T=l.debug||R.debug,N=x.address.entire,L=this.createLogger(!!T,typeof N=="string"?N:"reg-exp address",l.onLog);L.group("Reaction Called");const{format:Z,mountLoad:q=!0,ready:$,onSuccess:V,onError:J,disabledReactive:X}=R,G=(0,o.LO)(R),H=()=>typeof R.customService=="function"?R.customService(R,l):typeof R.service=="function"?R.service(R.params):O((()=>{try{const b=l.params||{};let B=U(R.params);const W=U(R.staticParams),K=Object.assign({},b,W,B);return Object.assign({},l,R,{params:K})}catch(b){return L.error("Error merging params",b),{}}})()),z=(...b)=>{const[B,...W]=b;if(typeof B=="function")try{B(...W)}catch(K){L.error(`invoke ${B} function failed`,K)}},j=()=>E(this,null,function*(){var b,B;try{if(L.info("Preparing to make request, checking conditions"),typeof $=="boolean"&&!$){L.info("ready field is false, request aborted");return}if(typeof $=="function"&&!$(R)){L.info("ready function returned false, request aborted");return}x.loading=!0,L.info("Making request",{request:R});const W=yield H(),K=(B=(b=o.aD).bound)==null?void 0:B.call(b,()=>{L.info("Request successful, preparing to set dataSource",{format:Z}),x.dataSource=this.formatData(W,Z),L.info("DataSource set, calling onSuccess"),z(V,W,R)});K&&K()}catch(W){L.error("Failed to set dataSource, calling onError",W),z(J,W)}finally{x.loading=!1}});x.mounted&&(c.lifecycle>u.MOUNTED&&!X&&(L.info(`${this.key} config modified, triggering request`,{lifecycle:u[c.lifecycle]}),j()),c.lifecycle<u.MOUNTED&&(c.lifecycle=u.MOUNTED,L.info("Component mounted",{lifecycle:u[c.lifecycle]}),q&&(L.info("Auto-triggering request after component mount",{mountLoad:q,request:R}),j()),c.lifecycle++)),typeof c.dispose=="function"&&c.dispose(),c.dispose=(0,o.N7)(G,b=>{L.info(`Manual ${this.key} config change, triggering request`,{change:b}),j()}),x.inject({updateRequest:b=>{L.info("Calling updateRequest");try{if(typeof b!="function")throw new Error("updateRequest parameter must be a function");b(G)}catch(B){L.error("updateRequest failed",B)}},reloadRequest:()=>(L.info("Manual reloadRequest call, triggering request",{request:R}),j())}),x.unmounted&&(typeof c.dispose=="function"&&(c.dispose(),c.dispose=null),c.lifecycle=u.UNMOUNT,L.info("Component unmounted",{unmounted:x.unmounted})),L.groupEnd()})}static getInstance(){return this._instance||(this._instance=new k),this._instance}use(a){if(!a)throw new Error("\u8BF7\u4F20\u5165Schema\u914D\u7F6E");if(!("registerPatches"in a))throw new Error('Schema\u7F3A\u5C11"registerPatches"\u65B9\u6CD5');if(!("compile"in a))throw new Error('Schema\u7F3A\u5C11"compile"\u65B9\u6CD5');return this.Schema=a,this}register(...a){try{if(!this.Schema)throw new Error('formily-request\u7F3A\u5C11Schema\uFF0C\u8BF7\u5148\u4F7F\u7528"use"\u51FD\u6570\u6CE8\u5165Schema');let l={};if(a.length===1){const[x]=a;typeof x=="string"?this.key=x:l=x}else if(a.length===2){const[x,C]=a;this.key=x,l=C}this.key.startsWith("x-")||console.warn("\u5B57\u6BB5\u6CA1\u6709\u4F7F\u7528x-\u5F00\u5934",{key:this.key});const c=`${this.key}-registered`;this.Schema.registerPatches(x=>{const C=x[this.key];if(typeof C=="object"&&!x[c]){const R={lifecycle:u.INIT,dispose:null};S(x,"x-compile-omitted",this.key);const T=this.createReaction(C,l,R);S(x,"x-reactions",T),x[c]=!0}return x})}catch(l){console.error("register error",{key:this.key,error:l})}}formatData(a,l){try{if(typeof l=="undefined")return a;if(typeof l!="function")throw new TypeError("format is not a function");let c=l(a);if(!Array.isArray(c))throw new Error(`format must return an array, but got ${typeof c}`);return c}catch(c){const x=_(c);throw new Error(`format error: ${x}`,{cause:c})}}createLogger(a,l,c){return new y(a,l?`${this.key}:${l}`:"",c)}};g(i,"_instance",null);const d=i.getInstance()}}]);
